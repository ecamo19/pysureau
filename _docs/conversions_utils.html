<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="AUTHORS: Julien Ruffault (julien.ruff@gmail.com), Nicolas Martin-StPaul (nicolas.martin@inrae.fr)">

<title>conversions_utils – pysureau</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-2d6247d5cebda1aa990c102034ff4575.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
<meta property="og:title" content="conversions_utils – pysureau">
<meta property="og:description" content="AUTHORS: Julien Ruffault (julien.ruff@gmail.com), Nicolas Martin-StPaul (nicolas.martin@inrae.fr)">
<meta property="og:site_name" content="pysureau">
<meta name="twitter:title" content="conversions_utils – pysureau">
<meta name="twitter:description" content="AUTHORS: Julien Ruffault (julien.ruff@gmail.com), Nicolas Martin-StPaul (nicolas.martin@inrae.fr)">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-sidebar floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">pysureau</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./conversions_utils.html">conversions_utils</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">pysureau</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pysureau_utils.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">pysureau_utils</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./parameter_validators.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">parameter_validators</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./conversions_utils.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">conversions_utils</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./soil_utils.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">soil_utils</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./plant_utils.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">plant_utils</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./climate_utils.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">climate_utils</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./modeling_options_utils.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">modeling_options_utils</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pysureau_init.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">pysureau_init</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./prepare_soil_parameters.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">prepare_soil_parameters</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#convert_f_to_v" id="toc-convert_f_to_v" class="nav-link active" data-scroll-target="#convert_f_to_v">convert_f_to_v</a></li>
  <li><a href="#convert_vwc_to_sws" id="toc-convert_vwc_to_sws" class="nav-link" data-scroll-target="#convert_vwc_to_sws">convert_vwc_to_sws</a></li>
  <li><a href="#convert_sws_to_vwc" id="toc-convert_sws_to_vwc" class="nav-link" data-scroll-target="#convert_sws_to_vwc">convert_sws_to_vwc</a></li>
  <li><a href="#convert_ksat_cmday_to_ksat_micromol" id="toc-convert_ksat_cmday_to_ksat_micromol" class="nav-link" data-scroll-target="#convert_ksat_cmday_to_ksat_micromol">convert_ksat_cmday_to_ksat_micromol</a></li>
  <li><a href="#convert_rate_to_molm_s_m_mpa" id="toc-convert_rate_to_molm_s_m_mpa" class="nav-link" data-scroll-target="#convert_rate_to_molm_s_m_mpa">convert_rate_to_molm_s_m_mpa</a></li>
  <li><a href="#convert_molm_s_m_mpa_to_rate" id="toc-convert_molm_s_m_mpa_to_rate" class="nav-link" data-scroll-target="#convert_molm_s_m_mpa_to_rate">convert_molm_s_m_mpa_to_rate</a></li>
  <li><a href="#convert_mpa_to_m" id="toc-convert_mpa_to_m" class="nav-link" data-scroll-target="#convert_mpa_to_m">convert_mpa_to_m</a></li>
  <li><a href="#convert_m_to_mpa" id="toc-convert_m_to_mpa" class="nav-link" data-scroll-target="#convert_m_to_mpa">convert_m_to_mpa</a></li>
  <li><a href="#convert_pf_to_hpa" id="toc-convert_pf_to_hpa" class="nav-link" data-scroll-target="#convert_pf_to_hpa">convert_pf_to_hpa</a></li>
  <li><a href="#convert_hpa_to_pf" id="toc-convert_hpa_to_pf" class="nav-link" data-scroll-target="#convert_hpa_to_pf">convert_hpa_to_pf</a></li>
  <li><a href="#convert_vg_psi_to_theta" id="toc-convert_vg_psi_to_theta" class="nav-link" data-scroll-target="#convert_vg_psi_to_theta">convert_vg_psi_to_theta</a></li>
  <li><a href="#convert_vg_theta_to_psi" id="toc-convert_vg_theta_to_psi" class="nav-link" data-scroll-target="#convert_vg_theta_to_psi">convert_vg_theta_to_psi</a></li>
  <li><a href="#convert_vwc_to_rew" id="toc-convert_vwc_to_rew" class="nav-link" data-scroll-target="#convert_vwc_to_rew">convert_vwc_to_rew</a></li>
  <li><a href="#convert_rew_to_vwc" id="toc-convert_rew_to_vwc" class="nav-link" data-scroll-target="#convert_rew_to_vwc">convert_rew_to_vwc</a></li>
  <li><a href="#convert_mmol_to_m3" id="toc-convert_mmol_to_m3" class="nav-link" data-scroll-target="#convert_mmol_to_m3">convert_mmol_to_m3</a></li>
  <li><a href="#convert_mmol_to_mm" id="toc-convert_mmol_to_mm" class="nav-link" data-scroll-target="#convert_mmol_to_mm">convert_mmol_to_mm</a></li>
  <li><a href="#convert_compartment_leaf_to_soil" id="toc-convert_compartment_leaf_to_soil" class="nav-link" data-scroll-target="#convert_compartment_leaf_to_soil">convert_compartment_leaf_to_soil</a></li>
  <li><a href="#convert_compartment_soil_to_leaf" id="toc-convert_compartment_soil_to_leaf" class="nav-link" data-scroll-target="#convert_compartment_soil_to_leaf">convert_compartment_soil_to_leaf</a></li>
  <li><a href="#convert_compartment_stem_to_leaf" id="toc-convert_compartment_stem_to_leaf" class="nav-link" data-scroll-target="#convert_compartment_stem_to_leaf">convert_compartment_stem_to_leaf</a></li>
  <li><a href="#convert_compartment_leaf_to_stem" id="toc-convert_compartment_leaf_to_stem" class="nav-link" data-scroll-target="#convert_compartment_leaf_to_stem">convert_compartment_leaf_to_stem</a></li>
  <li><a href="#convert_compartment_stem_to_soil" id="toc-convert_compartment_stem_to_soil" class="nav-link" data-scroll-target="#convert_compartment_stem_to_soil">convert_compartment_stem_to_soil</a></li>
  <li><a href="#convert_compartment_soil_to_stem" id="toc-convert_compartment_soil_to_stem" class="nav-link" data-scroll-target="#convert_compartment_soil_to_stem">convert_compartment_soil_to_stem</a></li>
  <li><a href="#convert_stock_mm_soil_to_flux_mmol_leaf" id="toc-convert_stock_mm_soil_to_flux_mmol_leaf" class="nav-link" data-scroll-target="#convert_stock_mm_soil_to_flux_mmol_leaf">convert_stock_mm_soil_to_flux_mmol_leaf</a></li>
  <li><a href="#convert_optim_mm_soil_to_mmol_leaf" id="toc-convert_optim_mm_soil_to_mmol_leaf" class="nav-link" data-scroll-target="#convert_optim_mm_soil_to_mmol_leaf">convert_optim_mm_soil_to_mmol_leaf</a></li>
  <li><a href="#convert_optim_mmol_leaf_to_mm_soil" id="toc-convert_optim_mmol_leaf_to_mm_soil" class="nav-link" data-scroll-target="#convert_optim_mmol_leaf_to_mm_soil">convert_optim_mmol_leaf_to_mm_soil</a></li>
  <li><a href="#functions-of-conversion-and-temporal-disagregation-of-climatic-variable-as-well-as-pet-computation" id="toc-functions-of-conversion-and-temporal-disagregation-of-climatic-variable-as-well-as-pet-computation" class="nav-link" data-scroll-target="#functions-of-conversion-and-temporal-disagregation-of-climatic-variable-as-well-as-pet-computation">Functions of conversion and temporal disagregation of climatic variable as well as PET computation</a>
  <ul class="collapse">
  <li><a href="#compute_vpd_from_temp_rh" id="toc-compute_vpd_from_temp_rh" class="nav-link" data-scroll-target="#compute_vpd_from_temp_rh">compute_vpd_from_temp_rh</a></li>
  <li><a href="#compute_slope_sat" id="toc-compute_slope_sat" class="nav-link" data-scroll-target="#compute_slope_sat">compute_slope_sat</a></li>
  <li><a href="#compute_pet" id="toc-compute_pet" class="nav-link" data-scroll-target="#compute_pet">compute_pet</a></li>
  <li><a href="#calculate_radiation_diurnal_pattern" id="toc-calculate_radiation_diurnal_pattern" class="nav-link" data-scroll-target="#calculate_radiation_diurnal_pattern">calculate_radiation_diurnal_pattern</a></li>
  <li><a href="#calculate_temperature_diurnal_pattern" id="toc-calculate_temperature_diurnal_pattern" class="nav-link" data-scroll-target="#calculate_temperature_diurnal_pattern">calculate_temperature_diurnal_pattern</a></li>
  <li><a href="#calculate_rh_diurnal_pattern" id="toc-calculate_rh_diurnal_pattern" class="nav-link" data-scroll-target="#calculate_rh_diurnal_pattern">calculate_rh_diurnal_pattern</a></li>
  <li><a href="#global_radiation_conversions_watts_ppfd" id="toc-global_radiation_conversions_watts_ppfd" class="nav-link" data-scroll-target="#global_radiation_conversions_watts_ppfd">global_radiation_conversions_watts_ppfd</a></li>
  <li><a href="#global_radiation_conversions_watts_mjules" id="toc-global_radiation_conversions_watts_mjules" class="nav-link" data-scroll-target="#global_radiation_conversions_watts_mjules">global_radiation_conversions_watts_mjules</a></li>
  <li><a href="#declination" id="toc-declination" class="nav-link" data-scroll-target="#declination">declination</a></li>
  <li><a href="#potential_par" id="toc-potential_par" class="nav-link" data-scroll-target="#potential_par">potential_par</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/ecamo19/pysureau/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div><div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="conversions_utils.html.md"><i class="bi bi-file-code"></i>CommonMark</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">conversions_utils</h1>
</div>

<div>
  <div class="description">
    AUTHORS: <strong>Julien Ruffault (julien.ruff@gmail.com), Nicolas Martin-StPaul (nicolas.martin@inrae.fr)</strong>
  </div>
</div>


<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L26" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="convert_f_to_v" class="level3">
<h3 class="anchored" data-anchor-id="convert_f_to_v">convert_f_to_v</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_f_to_v(</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    x, <span class="co"># Soil value to be converted (m3.m-3)</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    layer_thickness:<span class="bu">float</span>, <span class="co"># Thickness of the soil layer (in m)</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    rfc:<span class="bu">float</span><span class="op">=</span><span class="dv">0</span>, <span class="co"># Rock fragment content of the soil layer (%)</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>: <span class="co"># Soil water height (mm)</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Convert soil volumetric water content (m3.m-3) to water height (mm) according to thickness and rock fragment content of the given soil layer</em></p>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L36" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="convert_vwc_to_sws" class="level3">
<h3 class="anchored" data-anchor-id="convert_vwc_to_sws">convert_vwc_to_sws</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_vwc_to_sws(</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    volumetric_water_content_x:<span class="bu">float</span>, <span class="co"># Volumetric water content (m3.m-3)</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    layer_thickness:<span class="bu">float</span>, <span class="co"># Thickness of the soil layer (in m)</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    rfc:<span class="bu">float</span><span class="op">=</span><span class="dv">0</span>, <span class="co"># Rock fragment content of the soil layer (%)</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>: <span class="co"># Soil Water Stock (mm)</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Convert soil volumetric water content (VWC) to soil water stock (SWS). The volume of the water quantity per square metre results in the corresponding water stock height (m3 water per m2 soil as height in mm)</em></p>
<div id="e6cbcad3" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>convert_vwc_to_sws(volumetric_water_content_x<span class="op">=</span><span class="fl">0.5</span>, rfc<span class="op">=</span><span class="dv">50</span>, layer_thickness<span class="op">=</span><span class="dv">1</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>250.0</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L48" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="convert_sws_to_vwc" class="level3">
<h3 class="anchored" data-anchor-id="convert_sws_to_vwc">convert_sws_to_vwc</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_sws_to_vwc(</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    soil_water_stock_x:<span class="bu">float</span>, <span class="co"># Soil water stock (mm)</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    layer_thickness:<span class="bu">float</span>, <span class="co"># Thickness of the soil layer (in m)</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    rfc:<span class="bu">float</span><span class="op">=</span><span class="dv">0</span>, <span class="co"># Rock fraction  content of the soil layer (%)</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>: <span class="co"># Volumetric Water Content (m3.m-3)</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Convert soil water stock (SWS) to volumetric water content (VWC). Convert soil water stock (quantity as height in mm per m2 soil) to volumetric water content (m3.m-3) by accounting for the respective layer thickness and rock fragment content.</em></p>
<div id="c1cdcbfb" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>convert_sws_to_vwc(soil_water_stock_x<span class="op">=</span><span class="dv">250</span>, rfc<span class="op">=</span><span class="dv">50</span>, layer_thickness<span class="op">=</span><span class="dv">1</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>0.5</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L57" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="convert_ksat_cmday_to_ksat_micromol" class="level3">
<h3 class="anchored" data-anchor-id="convert_ksat_cmday_to_ksat_micromol">convert_ksat_cmday_to_ksat_micromol</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_ksat_cmday_to_ksat_micromol(</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    ksat_cmday:<span class="bu">float</span>, <span class="co"># Saturated hydraulic conductivity? in centimeters per day</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>: <span class="co"># Saturated Hydraulic Conductivity?(ksat) in mmol/s/m/MPa</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Convert Saturated Hydraulic Conductivity?(ksat) units from cm/day (ESDAC unit) to mmol/s/m/MPa (Sureau unit)</em></p>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L73" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="convert_rate_to_molm_s_m_mpa" class="level3">
<h3 class="anchored" data-anchor-id="convert_rate_to_molm_s_m_mpa">convert_rate_to_molm_s_m_mpa</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_rate_to_molm_s_m_mpa(</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    rate_x:<span class="bu">float</span>, <span class="co"># A rate in L/T. The default assumes cm/d to be converted to m/s</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    molm:<span class="bu">float</span><span class="op">=</span><span class="fl">18.01528</span>, <span class="co"># Molar mass of h2o (g mol-1)</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    pa:<span class="bu">float</span><span class="op">=</span><span class="fl">9.80665</span>, <span class="co"># Hydrostatic pressure (Pa mm-1)</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    xfac:<span class="bu">float</span><span class="op">=</span><span class="dv">8640000</span>, <span class="co"># Divisor converting rate (L T-1) to (m s-1). Value 8640000 comes from 24 * 60 ** 2 * 100</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>: <span class="co"># Converted rate to SurEau-Ecos unit (mmol.h2o s-1 m-1.soil MPa-1)</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Convert a hydraulic rate to SurEau-Ecos rate</em></p>
<div id="fa86ed8e" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>convert_rate_to_molm_s_m_mpa(<span class="dv">1</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>655.1255924715483</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L87" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="convert_molm_s_m_mpa_to_rate" class="level3">
<h3 class="anchored" data-anchor-id="convert_molm_s_m_mpa_to_rate">convert_molm_s_m_mpa_to_rate</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_molm_s_m_mpa_to_rate(</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    rate_x:<span class="bu">float</span>, <span class="co"># # Unknown parameter definition</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    molm:<span class="bu">float</span><span class="op">=</span><span class="fl">18.01528</span>, <span class="co"># Molar mass of h2o (g mol-1)</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    pa:<span class="bu">float</span><span class="op">=</span><span class="fl">9.80665</span>, <span class="co"># Hydrostatic pressure (Pa mm-1)</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    xfac:<span class="bu">float</span><span class="op">=</span><span class="dv">8640000</span>, <span class="co"># Divisor converting rate (L T-1) to (m s-1). Value 8640000 comes from 24 * 60 ** 2 * 100</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>: <span class="co"># A rate (L/T)</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Convert SurEau-Ecos rate to a hydraulic rate. Inverse of convert_rate_to_molm_s_m_mpa() funtion.</em></p>
<div id="9c669a94" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>convert_molm_s_m_mpa_to_rate(<span class="fl">655.1255924715483</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>0.9999999999999999</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L98" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="convert_mpa_to_m" class="level3">
<h3 class="anchored" data-anchor-id="convert_mpa_to_m">convert_mpa_to_m</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_mpa_to_m(</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    mpa_x:<span class="bu">float</span>, <span class="co"># Hydrostatic pressure in MPa</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    pa:<span class="bu">float</span><span class="op">=</span><span class="fl">9.80665</span>, <span class="co"># Hydrostatic pressure (Pa mm-1)</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>: <span class="co"># Pressure height in meters</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Conversion of hydrostatic pressure (MPa) to pressure height (m)</em></p>
<div id="626300e3" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>convert_mpa_to_m(<span class="dv">1</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>101.97162129779284</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L107" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="convert_m_to_mpa" class="level3">
<h3 class="anchored" data-anchor-id="convert_m_to_mpa">convert_m_to_mpa</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_m_to_mpa(</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    m_x:<span class="bu">float</span>, <span class="co"># Pressure height in meters</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    pa:<span class="bu">float</span><span class="op">=</span><span class="fl">9.80665</span>, <span class="co"># Hydrostatic pressure (Pa mm-1)</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>:</span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Conversion of pressure height (m) to hydrostatic pressure (MPa)</em></p>
<div id="57675aa4" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>convert_m_to_mpa(<span class="fl">101.97162129779284</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>1.0</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L116" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="convert_pf_to_hpa" class="level3">
<h3 class="anchored" data-anchor-id="convert_pf_to_hpa">convert_pf_to_hpa</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_pf_to_hpa(</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>    x:<span class="bu">float</span>, <span class="co"># Unknown parameter definition</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>: <span class="co"># Unknown parameter definition</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Function lacks definition, documentation needs to be improved.</em></p>
<div id="6dc77d3c" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>convert_pf_to_hpa(<span class="fl">1.8</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>63.09573444801933</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L124" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="convert_hpa_to_pf" class="level3">
<h3 class="anchored" data-anchor-id="convert_hpa_to_pf">convert_hpa_to_pf</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_hpa_to_pf(</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    x:<span class="bu">float</span>, <span class="co"># Unknown parameter definition</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>: <span class="co"># Unknown parameter definition</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Function lacks definition, documentation needs to be improved.</em></p>
<div id="b0ef496c" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>convert_hpa_to_pf(<span class="fl">63.09573444801933</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>1.8</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L132" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="convert_vg_psi_to_theta" class="level3">
<h3 class="anchored" data-anchor-id="convert_vg_psi_to_theta">convert_vg_psi_to_theta</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_vg_psi_to_theta(</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>    vg_psi_x:<span class="bu">float</span>, <span class="co"># Soil matric potential (hPa)</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>    theta_s:<span class="bu">float</span>, <span class="co"># Saturated water content (L3 L-3)</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>    theta_r:<span class="bu">float</span>, <span class="co"># Residual water content (L3 L-3)</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>    a:<span class="bu">float</span>, <span class="co"># Parameter related to the inverse of the air-entry pressure (unitless?)</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>    n:<span class="bu">float</span>, <span class="co"># Parameter related to the pore-size distribution (unitless)</span></span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>: <span class="co"># Volumetric water content</span></span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Unit conversion from soil matric potential (Psi) to volumetric water content (Theta) using the Mualem-van-Genuchten pedotransfer function</em></p>
<div id="43218973" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>convert_vg_psi_to_theta(</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>    vg_psi_x<span class="op">=</span>np.array([<span class="op">-</span><span class="fl">1e6</span>, <span class="op">-</span><span class="fl">1e2</span>, <span class="dv">0</span>]), theta_s<span class="op">=</span><span class="fl">0.5</span>, theta_r<span class="op">=</span><span class="fl">0.1</span>, a<span class="op">=</span><span class="fl">0.05</span>, n<span class="op">=</span><span class="fl">1.5</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>array([0.10178885, 0.27384953, 0.5       ])</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L146" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="convert_vg_theta_to_psi" class="level3">
<h3 class="anchored" data-anchor-id="convert_vg_theta_to_psi">convert_vg_theta_to_psi</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_vg_theta_to_psi(</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>    vwc_theta_x:<span class="bu">float</span>, <span class="co"># volumetric water content (L3 L-3)</span></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>    theta_s:<span class="bu">float</span>, <span class="co"># Saturated water content (L3 L-3)</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>    theta_r:<span class="bu">float</span>, <span class="co"># Residual water content (L3 L-3)</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>    a:<span class="bu">float</span>, <span class="co"># Parameter related to the inverse of the air-entry pressure (unitless?)</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>    n:<span class="bu">float</span>, <span class="co"># Parameter related to the pore-size distribution (unitless)</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>: <span class="co"># Soil matric potential</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Unit conversion from volumetric water content (Theta) to soil matric potential (Psi) using the Mualem-van-Genuchten pedotransfer function</em></p>
<div id="bc3d926e" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>convert_vg_theta_to_psi(</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>    vwc_theta_x<span class="op">=</span>np.array([<span class="fl">0.1</span>, <span class="fl">0.3</span>, <span class="fl">0.5</span>]),</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>    theta_s<span class="op">=</span><span class="fl">0.5</span>,</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>    theta_r<span class="op">=</span><span class="fl">0.1</span>,</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>    a<span class="op">=</span><span class="fl">0.05</span>,</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>    n<span class="op">=</span><span class="fl">1.5</span>,</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stderr">
<pre><code>/tmp/ipykernel_9862/3671110304.py:16: RuntimeWarning: divide by zero encountered in power
  return (theta_eff ** (-1/(1 - 1/n)) - 1) ** (1/n) / a * (-1)</code></pre>
</div>
<div class="cell-output cell-output-display">
<pre><code>array([       -inf, -73.1861142,  -0.       ])</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L161" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="convert_vwc_to_rew" class="level3">
<h3 class="anchored" data-anchor-id="convert_vwc_to_rew">convert_vwc_to_rew</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_vwc_to_rew(</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>    vwc_x:<span class="bu">float</span>, <span class="co"># Volumetric Water Content (L3*L-3)</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>    theta_s:<span class="bu">float</span>, <span class="co"># Saturated water content (L3 L-3)</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>    theta_r:<span class="bu">float</span>, <span class="co"># Residual water content (L3 L-3)</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>: <span class="co"># Relative Extractable water</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Conversion from volumetric water content to relative extractable water (REW). REW is the volumetric water content normalised to saturation capacity (REW=1) and residual capacity (REW=0)</em></p>
<div id="9b7b93ed" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>convert_vwc_to_rew(vwc_x<span class="op">=</span>np.array([<span class="fl">0.1</span>, <span class="fl">0.3</span>, <span class="fl">0.5</span>]), theta_s<span class="op">=</span><span class="fl">0.5</span>, theta_r<span class="op">=</span><span class="fl">0.1</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>array([0. , 0.5, 1. ])</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L171" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="convert_rew_to_vwc" class="level3">
<h3 class="anchored" data-anchor-id="convert_rew_to_vwc">convert_rew_to_vwc</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_rew_to_vwc(</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>    rew_x:<span class="bu">float</span>, <span class="co"># Relative Extractable water (rew)</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>    theta_s:<span class="bu">float</span>, <span class="co"># Saturated water content (L3 L-3)</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>    theta_r:<span class="bu">float</span>, <span class="co"># Residual water content (L3 L-3)</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>: <span class="co"># Volumetric Water Content (L3*L-3)</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Conversion from relative extractable water to volumetric water</em></p>
<div id="4dafeae9" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>convert_rew_to_vwc(rew_x<span class="op">=</span>np.array([<span class="dv">0</span>, <span class="fl">0.5</span>, <span class="dv">1</span>]), theta_s<span class="op">=</span><span class="fl">0.5</span>, theta_r<span class="op">=</span><span class="fl">0.1</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>array([0.1, 0.3, 0.5])</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L180" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="convert_mmol_to_m3" class="level3">
<h3 class="anchored" data-anchor-id="convert_mmol_to_m3">convert_mmol_to_m3</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_mmol_to_m3(</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>    mmol_h2o_x:<span class="bu">float</span>, <span class="co"># Unit to be converted (mmol, m³ or mm depending on the used function</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>    molm:<span class="bu">float</span><span class="op">=</span><span class="fl">18.01528</span>, <span class="co"># Molar mass of h2o (g mol-1)</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>    pw:<span class="bu">float</span><span class="op">=</span><span class="dv">998</span>, <span class="co"># Density of water (kg m-3.h2o)</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>: <span class="co"># Unknown parameter</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Stochiometric conversion between volume and molarity In case of converting from or to millimetres (mm), the actual unit is the volume divided by its area, resulting in a depth given in millimetres.</em></p>
<div id="78a90b60" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>convert_mmol_to_m3(<span class="dv">1</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>1.8051382765531063e-08</code></pre>
</div>
</div>
<div id="510b9998" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_m3_to_mmol(</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>    m3_x: <span class="bu">float</span>,</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>    molm: <span class="bu">float</span> <span class="op">=</span> <span class="fl">18.01528</span>,  <span class="co"># Molar mass of h2o (g mol-1)</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>    pw: <span class="bu">float</span> <span class="op">=</span> <span class="dv">998</span>,  <span class="co"># Density of water (kg m-3.h2o)</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>) <span class="op">-&gt;</span> <span class="bu">float</span>:  <span class="co">#</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">"Stochiometric conversion between volume and molarity  In case of converting from or to millimetres (mm), the actual unit is the volume divided by its area, resulting in a depth given in millimetres."</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> m3_x <span class="op">/</span> molm <span class="op">*</span> pw <span class="op">*</span> <span class="fl">1e6</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="e4370685" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>convert_m3_to_mmol(<span class="fl">1.8051382765531063e-08</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>1.0</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L190" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="convert_mmol_to_mm" class="level3">
<h3 class="anchored" data-anchor-id="convert_mmol_to_mm">convert_mmol_to_mm</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_mmol_to_mm(</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>    mmol_h2o_x:<span class="bu">float</span>, <span class="co"># Unit to be converted (mmol, m³ or mm depending on the used function</span></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>    molm:<span class="bu">float</span><span class="op">=</span><span class="fl">18.01528</span>, <span class="co"># Molar mass of h2o (g mol-1)</span></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>    pw:<span class="bu">float</span><span class="op">=</span><span class="dv">998</span>, <span class="co"># Density of water (kg m-3.h2o)</span></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>: <span class="co"># Unknown parameter</span></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Stochiometric conversion between volume and molarity In case of converting from or to millimetres (mm), the actual unit is the volume divided by its area, resulting in a depth given in millimetres.</em></p>
<div id="f24b7842" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>convert_mmol_to_mm(<span class="dv">1</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>1.8051382765531063e-05</code></pre>
</div>
</div>
<div id="be2d83dc" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_mm_to_mmol(</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>    mm_x: <span class="bu">float</span>,</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>    molm: <span class="bu">float</span> <span class="op">=</span> <span class="fl">18.01528</span>,  <span class="co"># Molar mass of h2o (g mol-1)</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>    pw: <span class="bu">float</span> <span class="op">=</span> <span class="dv">998</span>,  <span class="co"># Density of water (kg m-3.h2o)</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>    <span class="co">"Stochiometric conversion between volume and molarity  In case of converting from or to millimetres (mm), the actual unit is the volume divided by its area, resulting in a depth given in millimetres."</span></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> mm_x <span class="op">/</span> molm <span class="op">*</span> pw <span class="op">*</span> <span class="fl">1e3</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="d2b10075" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>convert_mm_to_mmol(<span class="fl">1.8051382765531063e-05</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>1.0</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L199" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="convert_compartment_leaf_to_soil" class="level3">
<h3 class="anchored" data-anchor-id="convert_compartment_leaf_to_soil">convert_compartment_leaf_to_soil</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_compartment_leaf_to_soil(</span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>    x:<span class="bu">float</span>, <span class="co"># Unknown parameter definition m2.leaf</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>    lai:<span class="bu">float</span><span class="op">=</span><span class="dv">1</span>, <span class="co"># Leaf Area Index</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>: <span class="co"># Unknown parameter m2.soil</span></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Function lacks definition, documentation needs to be improved.</em></p>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L207" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="convert_compartment_soil_to_leaf" class="level3">
<h3 class="anchored" data-anchor-id="convert_compartment_soil_to_leaf">convert_compartment_soil_to_leaf</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_compartment_soil_to_leaf(</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>    x:<span class="bu">float</span>, <span class="co"># Unknown parameter definition m2.soil</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>    lai:<span class="bu">float</span><span class="op">=</span><span class="dv">1</span>, <span class="co"># Leaf Area Index</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>: <span class="co"># Unknown parameter m2.leaf</span></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Function lacks definition, documentation needs to be improved.</em></p>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L215" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="convert_compartment_stem_to_leaf" class="level3">
<h3 class="anchored" data-anchor-id="convert_compartment_stem_to_leaf">convert_compartment_stem_to_leaf</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_compartment_stem_to_leaf(</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>    stem_x:<span class="bu">float</span>, <span class="co"># Unknown parameter definition m2.stem</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>    hv:<span class="bu">float</span>, <span class="co"># Huber value (sap wood / leaf area)</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>: <span class="co"># Unknown parameter m2.leaf</span></span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Function lacks definition, documentation needs to be improved.</em></p>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L223" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="convert_compartment_leaf_to_stem" class="level3">
<h3 class="anchored" data-anchor-id="convert_compartment_leaf_to_stem">convert_compartment_leaf_to_stem</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_compartment_leaf_to_stem(</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>    leaf_x:<span class="bu">float</span>, <span class="co"># Unknown parameter definition m2.leaf</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>    hv:<span class="bu">float</span>, <span class="co"># Huber value (sap wood / leaf area)</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>: <span class="co"># Unknown parameter m2.stem</span></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Function lacks definition, documentation needs to be improved.</em></p>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L231" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="convert_compartment_stem_to_soil" class="level3">
<h3 class="anchored" data-anchor-id="convert_compartment_stem_to_soil">convert_compartment_stem_to_soil</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_compartment_stem_to_soil(</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>    stem_x:<span class="bu">float</span>, <span class="co"># Unknown parameter definition</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>    swi:<span class="bu">float</span>, <span class="co"># Sap wood index (m2.sapwood m-2.soil)</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>: <span class="co"># Unknown parameter m2.soil</span></span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Function lacks definition, documentation needs to be improved.</em></p>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L239" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="convert_compartment_soil_to_stem" class="level3">
<h3 class="anchored" data-anchor-id="convert_compartment_soil_to_stem">convert_compartment_soil_to_stem</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_compartment_soil_to_stem(</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>    soil_x:<span class="bu">float</span>, <span class="co"># Unknown parameter definition</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>    swi:<span class="bu">float</span>, <span class="co"># Sap wood index (m2.sapwood m-2.soil)</span></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>: <span class="co"># Unknown parameter m2.stem</span></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Function lacks definition, documentation needs to be improved.</em></p>
<div id="1d8db50c" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_stock_to_flux(</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>    x: <span class="bu">float</span>,</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>    dt: <span class="bu">int</span>,  <span class="co"># Time step length in seconds</span></span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a>) <span class="op">-&gt;</span> <span class="bu">float</span>:  <span class="co">#</span></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">"Function lacks definition, documentation needs to be improved."</span></span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> x <span class="op">/</span> dt</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="171213f8" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_flux_to_stock(</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>    x: <span class="bu">float</span>,</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>    dt: <span class="bu">int</span>,  <span class="co"># Time step length in seconds</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>) <span class="op">-&gt;</span> <span class="bu">float</span>:  <span class="co">#</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>    <span class="co">"Function lacks definition, documentation needs to be improved."</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> x <span class="op">*</span> dt</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L248" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="convert_stock_mm_soil_to_flux_mmol_leaf" class="level3">
<h3 class="anchored" data-anchor-id="convert_stock_mm_soil_to_flux_mmol_leaf">convert_stock_mm_soil_to_flux_mmol_leaf</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_stock_mm_soil_to_flux_mmol_leaf(</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>    stand_water_stock_x:<span class="bu">float</span>, <span class="co"># Stand level water stock for a given LAI in mm(L m-2Soil) over the period of time considered</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>    lai:<span class="bu">float</span>, <span class="co"># Leaf area Index</span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>    dt:<span class="bu">float</span>, <span class="co"># Time step length in seconds</span></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>    molm:<span class="bu">float</span><span class="op">=</span><span class="fl">18.01528</span>, <span class="co"># Molar mass of h2o (g mol-1)</span></span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>    pw:<span class="bu">float</span><span class="op">=</span><span class="dv">998</span>, <span class="co"># Density of water (kg m-3.h2o)</span></span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>: <span class="co"># Instantaneous leaf area-based flux (mmol m-2Leaf s-1)</span></span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Converts a stand level water quantity (mm, i.e.&nbsp;L m-2Soil) over a defined time period to a leaf area-based flux (mmol m-2Leaf s-1) for a given leaf area index</em></p>
<div id="438e2f55" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>convert_stock_mm_soil_to_flux_mmol_leaf(stand_water_stock_x<span class="op">=</span><span class="dv">2</span>, dt<span class="op">=</span><span class="dv">60</span><span class="op">**</span><span class="dv">2</span>, lai<span class="op">=</span><span class="dv">3</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>10.25878114660526</code></pre>
</div>
</div>
<div id="b8c953d2" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_flux_mmol_leaf_to_stock_mm_soil(</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>    leaf_area_based_flux: <span class="bu">float</span>,  <span class="co"># Instantaneous leaf area-based flux to be converted (mmol m-2Leaf s-1)</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>    dt: <span class="bu">float</span>,  <span class="co"># Time step length in seconds</span></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a>    lai: <span class="bu">float</span>,  <span class="co"># Leaf area Index</span></span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a>    molm: <span class="bu">float</span> <span class="op">=</span> <span class="fl">18.01528</span>,  <span class="co"># Molar mass of h2o (g mol-1)</span></span>
<span id="cb63-6"><a href="#cb63-6" aria-hidden="true" tabindex="-1"></a>    pw: <span class="bu">float</span> <span class="op">=</span> <span class="dv">998</span>,  <span class="co"># Density of water (kg m-3.h2o)</span></span>
<span id="cb63-7"><a href="#cb63-7" aria-hidden="true" tabindex="-1"></a>) <span class="op">-&gt;</span> <span class="bu">float</span>:  <span class="co"># Stand level water stock for a given LAI in mm (L m-2Soil) over the period of time considered.</span></span>
<span id="cb63-8"><a href="#cb63-8" aria-hidden="true" tabindex="-1"></a>    <span class="co">"Converts an instantaneous leaf area-based flux (mmol m-2Leaf s-1) to a stand level water quantity (mm, i.e. L m-2Soil) for a given leaf area index over a defined time period."</span></span>
<span id="cb63-9"><a href="#cb63-9" aria-hidden="true" tabindex="-1"></a>    stock <span class="op">=</span> convert_flux_to_stock(x<span class="op">=</span>leaf_area_based_flux, dt<span class="op">=</span>dt)</span>
<span id="cb63-10"><a href="#cb63-10" aria-hidden="true" tabindex="-1"></a>    mm <span class="op">=</span> convert_mmol_to_mm(mmol_h2o_x<span class="op">=</span>stock, molm<span class="op">=</span>molm, pw<span class="op">=</span>pw)</span>
<span id="cb63-11"><a href="#cb63-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-12"><a href="#cb63-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> convert_compartment_leaf_to_soil(x<span class="op">=</span>mm, lai<span class="op">=</span>lai)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="ac5dd308" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 10 mmol/s over a period of 1 hour with an LAI of 3 m² is converted to</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="co"># millimetres of soil water stock (L/m²)</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a>convert_flux_mmol_leaf_to_stock_mm_soil(leaf_area_based_flux<span class="op">=</span><span class="dv">10</span>, dt<span class="op">=</span><span class="dv">60</span><span class="op">**</span><span class="dv">2</span>, lai<span class="op">=</span><span class="dv">3</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>1.9495493386773552</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L273" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="convert_optim_mm_soil_to_mmol_leaf" class="level3">
<h3 class="anchored" data-anchor-id="convert_optim_mm_soil_to_mmol_leaf">convert_optim_mm_soil_to_mmol_leaf</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_optim_mm_soil_to_mmol_leaf(</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>    instaneous_flux:<span class="bu">float</span>, <span class="co"># Stand level water stock for a given LAI in mm (L m-2Soil) over the period of time considered</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>    dt:<span class="bu">float</span>, <span class="co"># Time step length in seconds</span></span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>    lai:<span class="bu">float</span>, <span class="co"># Leaf area index</span></span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>: <span class="co"># Instantaneous leaf area-based flux (mmol m-2Leaf s-1</span></span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Converts a stand level water quantity (mm, i.e.&nbsp;L m-2Soil) over a defined time period to a leaf area-based flux (mmol m-2Leaf s-1) for a given leaf area index.</em></p>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L295" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="convert_optim_mmol_leaf_to_mm_soil" class="level3">
<h3 class="anchored" data-anchor-id="convert_optim_mmol_leaf_to_mm_soil">convert_optim_mmol_leaf_to_mm_soil</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> convert_optim_mmol_leaf_to_mm_soil(</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>    x:<span class="bu">float</span>, <span class="co"># Instantaneous leaf area-based flux to be converted (mmol m-2Leaf s-1)</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>    dt:<span class="bu">float</span>, <span class="co"># Time step length in seconds</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>    lai:<span class="bu">float</span>, <span class="co"># Leaf area index</span></span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>: <span class="co"># Stand level water stock for a given LAI in mm (L m-2Soil) over the period of time considered</span></span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Converts an instantaneous leaf area-based flux (mmol m-2Leaf s-1) to a stand level water quantity</em></p>
</section>
<section id="functions-of-conversion-and-temporal-disagregation-of-climatic-variable-as-well-as-pet-computation" class="level2">
<h2 class="anchored" data-anchor-id="functions-of-conversion-and-temporal-disagregation-of-climatic-variable-as-well-as-pet-computation">Functions of conversion and temporal disagregation of climatic variable as well as PET computation</h2>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L305" target="_blank" style="float:right; font-size:smaller">source</a></p>
<section id="compute_vpd_from_temp_rh" class="level3">
<h3 class="anchored" data-anchor-id="compute_vpd_from_temp_rh">compute_vpd_from_temp_rh</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> compute_vpd_from_temp_rh(</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>    relative_humidity:<span class="bu">float</span>, <span class="co"># Air relative_humidity (%)</span></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>    temperature:<span class="bu">float</span>, <span class="co"># Air temperature (degrees Celsius)</span></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a>    air_pressure:<span class="bu">float</span><span class="op">=</span><span class="dv">101325</span>, <span class="co"># Air pressure (Pa)</span></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>:</span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Compute vapor pressure deficit (VPD) from air relative humidity (rh) and air temperature (temp)</em></p>
<section id="example-compute-vpd" class="level4">
<h4 class="anchored" data-anchor-id="example-compute-vpd"><strong>Example: Compute VPD</strong></h4>
<div id="6265911b" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>compute_vpd_from_temp_rh(relative_humidity<span class="op">=</span><span class="dv">70</span>, temperature<span class="op">=</span><span class="dv">55</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>array([4.76019573])</code></pre>
</div>
</div>
<div id="1b59ca2e" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>compute_vpd_from_temp_rh(relative_humidity<span class="op">=</span><span class="dv">25</span>, temperature<span class="op">=</span>np.array([<span class="dv">80</span>, <span class="dv">90</span>]))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>array([36.10624792, 53.70318944])</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L400" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
</section>
<section id="compute_slope_sat" class="level3">
<h3 class="anchored" data-anchor-id="compute_slope_sat">compute_slope_sat</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> compute_slope_sat(</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>    tmoy:<span class="bu">float</span>, <span class="co"># Mean daily temperature in °C</span></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>: <span class="co"># Slope of the saturation vapour pressure function</span></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Compute slope of the saturation vapour pressure function (AO 1998)</em></p>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L413" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="compute_pet" class="level3">
<h3 class="anchored" data-anchor-id="compute_pet">compute_pet</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> compute_pet(</span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>    tmoy:<span class="bu">float</span>, <span class="co"># Mean temperature over the considered time step (degrees Celsius)</span></span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a>    net_radiation:<span class="bu">float</span>, <span class="co"># Cumulative Net radiation over the considered time sep (MJ.m2)</span></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a>    g:<span class="bu">float</span><span class="op">=</span><span class="dv">0</span>, <span class="co"># Energy storage parameter. Represents ground heat flux</span></span>
<span id="cb74-6"><a href="#cb74-6" aria-hidden="true" tabindex="-1"></a>    vpd:<span class="bu">float</span><span class="op">=</span><span class="va">None</span>, <span class="co"># Vapor pressure deficit (kpa) for calculating etp using the Penman-Monteith (penman) formulation</span></span>
<span id="cb74-7"><a href="#cb74-7" aria-hidden="true" tabindex="-1"></a>    wind_speed_u:<span class="bu">float</span><span class="op">=</span><span class="va">None</span>, <span class="co"># Wind speed (m.s-1) for calculating etp using the Penman-monteith (penman) formulation</span></span>
<span id="cb74-8"><a href="#cb74-8" aria-hidden="true" tabindex="-1"></a>    pt_coeff:<span class="bu">float</span><span class="op">=</span><span class="va">None</span>, <span class="co"># An empirical constant accounting for the vapor pressure deficit and resistance values. Typically, α is 1.26 for open bodies of water, but has a wide range of values from less than 1 (humid conditions) to almost 2 (arid conditions).</span></span>
<span id="cb74-9"><a href="#cb74-9" aria-hidden="true" tabindex="-1"></a>    formulation:<span class="bu">str</span><span class="op">=</span><span class="st">'pt'</span>, <span class="co"># String indicating which formulation to use (Pristeley Taylor (pt) or Penman-Monteith (penman)) for calculating potential evapotranspiration</span></span>
<span id="cb74-10"><a href="#cb74-10" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>: <span class="co"># Potential evapotranspiration (PET) (mm)</span></span>
<span id="cb74-11"><a href="#cb74-11" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Calcule Potential Evapotranspiration (mm) PET using Pristeley Taylor (pt) or Penmman (penman) formulation</em></p>
<section id="example-compute-potential-evapotranspiration" class="level4">
<h4 class="anchored" data-anchor-id="example-compute-potential-evapotranspiration"><strong>Example: Compute Potential Evapotranspiration</strong></h4>
<div id="57bcb1a1" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>compute_pet(tmoy<span class="op">=</span><span class="dv">80</span>, net_radiation<span class="op">=</span><span class="dv">25</span>, formulation<span class="op">=</span><span class="st">'pt'</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="db09ceba" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb76"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>compute_pet(</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>    tmoy<span class="op">=</span><span class="dv">20</span>, net_radiation<span class="op">=</span><span class="dv">1</span>, wind_speed_u<span class="op">=</span><span class="dv">2</span>, vpd<span class="op">=</span><span class="dv">2</span>, formulation<span class="op">=</span><span class="st">'penman'</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="e65134e3" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb77"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a>compute_pet(</span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>    tmoy<span class="op">=</span><span class="dv">15</span>, net_radiation<span class="op">=</span><span class="dv">5</span>, wind_speed_u<span class="op">=</span><span class="dv">2</span>, vpd<span class="op">=</span><span class="dv">1</span>, formulation<span class="op">=</span><span class="st">'penman'</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>1.126055124868983</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L540" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
</section>
<section id="calculate_radiation_diurnal_pattern" class="level3">
<h3 class="anchored" data-anchor-id="calculate_radiation_diurnal_pattern">calculate_radiation_diurnal_pattern</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb79"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_radiation_diurnal_pattern(</span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a>    time_of_day:<span class="bu">int</span>, <span class="co"># Numeric value of vector indicating the time of the day (in seconds)</span></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a>    day_length:<span class="bu">int</span>, <span class="co"># Value indicating the duration of the day (in seconds). Calculated using the [`day_length`](https://ecamo19.github.io/pysureau/climate_utils.html#day_length) function</span></span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>:</span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Calculated diurnal pattern of temperature assuming a sinusoidal pattern with T = tmin at sunrise and T = (tmin + tmax)/2 at sunset. From sunset to sunrise follows a linear trend</em></p>
<section id="example-calculate-radiation-diurnal-pattern" class="level4">
<h4 class="anchored" data-anchor-id="example-calculate-radiation-diurnal-pattern"><strong>Example: Calculate radiation diurnal pattern</strong></h4>
<div id="a349a7f1" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb80"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>calculate_radiation_diurnal_pattern(time_of_day<span class="op">=</span><span class="dv">1</span>, day_length<span class="op">=</span><span class="dv">40</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L602" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
</section>
<section id="calculate_temperature_diurnal_pattern" class="level3">
<h3 class="anchored" data-anchor-id="calculate_temperature_diurnal_pattern">calculate_temperature_diurnal_pattern</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb81"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_temperature_diurnal_pattern(</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a>    time_of_day:<span class="bu">float</span>, <span class="co"># Value of vector indicating the time of the day (in seconds from sunrise)</span></span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a>    day_length:<span class="bu">int</span>, <span class="co"># Value indicating the duration of the day (in seconds). Calculated using the [`day_length`](https://ecamo19.github.io/pysureau/climate_utils.html#day_length) function</span></span>
<span id="cb81-5"><a href="#cb81-5" aria-hidden="true" tabindex="-1"></a>    tmin:<span class="bu">float</span>, <span class="co"># Minimum temperature (in degrees C) of the target day of the year</span></span>
<span id="cb81-6"><a href="#cb81-6" aria-hidden="true" tabindex="-1"></a>    tmax:<span class="bu">float</span>, <span class="co"># Maximum temperature (in degrees C) of the target day of the year</span></span>
<span id="cb81-7"><a href="#cb81-7" aria-hidden="true" tabindex="-1"></a>    tmin_prev:<span class="bu">float</span>, <span class="co"># Minimum temperature (in degrees C) of the previous target day of the year</span></span>
<span id="cb81-8"><a href="#cb81-8" aria-hidden="true" tabindex="-1"></a>    tmax_prev:<span class="bu">float</span>, <span class="co"># Maximum temperature (in degrees C) of the previous target day of the year</span></span>
<span id="cb81-9"><a href="#cb81-9" aria-hidden="true" tabindex="-1"></a>    tmin_next:<span class="bu">float</span>, <span class="co"># Minimum temperature (in degrees C) of the next target day of the year</span></span>
<span id="cb81-10"><a href="#cb81-10" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>: <span class="co"># Temperature at the given time</span></span>
<span id="cb81-11"><a href="#cb81-11" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Calculated diurnal pattern of temperature assuming a sinusoidal pattern with T = tmin at sunrise and T = (tmin+tmax)/2 at sunset. From sunset to sunrise follows a linear trend</em></p>
<section id="example-calculate-the-temperature-diurnal-pattern" class="level4">
<h4 class="anchored" data-anchor-id="example-calculate-the-temperature-diurnal-pattern"><strong>Example: calculate the temperature diurnal pattern</strong></h4>
<div id="46eecc79" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb82"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>calculate_temperature_diurnal_pattern(</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>    time_of_day<span class="op">=</span><span class="dv">0</span>,</span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>    day_length<span class="op">=</span><span class="dv">0</span>,</span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>    tmin<span class="op">=</span><span class="fl">0.6</span>,</span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>    tmax<span class="op">=</span><span class="fl">8.2</span>,</span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a>    tmin_prev<span class="op">=</span><span class="fl">2.6</span>,</span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a>    tmax_prev<span class="op">=</span><span class="fl">11.3</span>,</span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a>    tmin_next<span class="op">=</span><span class="fl">4.7</span>,</span>
<span id="cb82-9"><a href="#cb82-9" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L644" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
</section>
<section id="calculate_rh_diurnal_pattern" class="level3">
<h3 class="anchored" data-anchor-id="calculate_rh_diurnal_pattern">calculate_rh_diurnal_pattern</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb83"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_rh_diurnal_pattern(</span>
<span id="cb83-3"><a href="#cb83-3" aria-hidden="true" tabindex="-1"></a>    temperature:<span class="bu">float</span>, <span class="co"># Numeric value providing the target temperature (degrees C) at which we should compute target rh</span></span>
<span id="cb83-4"><a href="#cb83-4" aria-hidden="true" tabindex="-1"></a>    rhmin:<span class="bu">float</span>, <span class="co"># Numeric value indicating the minimum relative humidity (%) of the day</span></span>
<span id="cb83-5"><a href="#cb83-5" aria-hidden="true" tabindex="-1"></a>    rhmax:<span class="bu">float</span>, <span class="co"># Numeric value indicating the maximum relative humidity (%) of the day</span></span>
<span id="cb83-6"><a href="#cb83-6" aria-hidden="true" tabindex="-1"></a>    tmin:<span class="bu">float</span>, <span class="co"># Numeric value indicating the minimum daily temperature (degrees C)</span></span>
<span id="cb83-7"><a href="#cb83-7" aria-hidden="true" tabindex="-1"></a>    tmax:<span class="bu">float</span>, <span class="co"># Numeric value indicating the maximum daily temperature (degrees C)</span></span>
<span id="cb83-8"><a href="#cb83-8" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>: <span class="co"># Relative humidity at given temperature</span></span>
<span id="cb83-9"><a href="#cb83-9" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Calculate diurnal pattern of relative humidity from temperature</em></p>
<div id="6ee7f908" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb84"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a>calculate_rh_diurnal_pattern(<span class="dv">17</span>, <span class="dv">40</span>, <span class="dv">80</span>, <span class="dv">15</span>, <span class="dv">25</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display">
<pre><code>72.0</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L668" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
<section id="global_radiation_conversions_watts_ppfd" class="level3">
<h3 class="anchored" data-anchor-id="global_radiation_conversions_watts_ppfd">global_radiation_conversions_watts_ppfd</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb86"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> global_radiation_conversions_watts_ppfd(</span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>    rg_ppfd:<span class="bu">float</span><span class="op">=</span><span class="va">None</span>, <span class="co"># Photosynthetic photon flux density (umol.m-2.s-1)</span></span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>    rg_watts:<span class="bu">float</span><span class="op">=</span><span class="va">None</span>, <span class="co"># Global radiation (W/m2)</span></span>
<span id="cb86-5"><a href="#cb86-5" aria-hidden="true" tabindex="-1"></a>    j_to_mol:<span class="bu">float</span><span class="op">=</span><span class="fl">4.6</span>, <span class="co"># Conversion factor</span></span>
<span id="cb86-6"><a href="#cb86-6" aria-hidden="true" tabindex="-1"></a>    frac_par:<span class="bu">float</span><span class="op">=</span><span class="fl">0.5</span>, <span class="co"># Fraction of solar radiation that is photosynthetically active radiation (PAR)</span></span>
<span id="cb86-7"><a href="#cb86-7" aria-hidden="true" tabindex="-1"></a>    selected_conversion:<span class="bu">str</span><span class="op">=</span><span class="st">'rg_watts_to_rg_ppfd_umol'</span>, <span class="co"># String indicating to what units rg should be converted. Options 'rg_ppfd_umol_to_rg_watts' or 'rg_watts_to_rg_ppfd_umol'</span></span>
<span id="cb86-8"><a href="#cb86-8" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>:</span>
<span id="cb86-9"><a href="#cb86-9" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Convert Global Radiation (rg) in watts to Photosynthetic Photon Flux Density (ppfd) in umol and viceversa</em></p>
<section id="example-calculate-global-radiation-in-watts-and-in-ppfd" class="level4">
<h4 class="anchored" data-anchor-id="example-calculate-global-radiation-in-watts-and-in-ppfd"><strong>Example: Calculate Global radiation in Watts and in PPFD</strong></h4>
<div id="d361d9e0" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb87"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>global_radiation_conversions_watts_ppfd(</span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>    rg_watts<span class="op">=</span><span class="dv">7</span>,</span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>    j_to_mol<span class="op">=</span><span class="fl">4.6</span>,</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a>    frac_par<span class="op">=</span><span class="fl">0.5</span>,</span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>    selected_conversion<span class="op">=</span><span class="st">'rg_watts_to_rg_ppfd_umol'</span>,</span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Global radiation (rg) converted from watts to ppfd</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>/tmp/ipykernel_613/1345094339.py:41: UserWarning: Using j_to_mol default value of 4.6
  warnings.warn('Using j_to_mol default value of 4.6')
/tmp/ipykernel_613/1345094339.py:44: UserWarning: Using frac_par default value of 0.5
  warnings.warn('Using frac_par default value of 0.5')</code></pre>
</div>
<div class="cell-output cell-output-display">
<pre><code>16.099999999999998</code></pre>
</div>
</div>
<div id="de93ad44" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb91"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>global_radiation_conversions_watts_ppfd(</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>    rg_ppfd<span class="op">=</span><span class="dv">9</span>,</span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>    j_to_mol<span class="op">=</span><span class="fl">4.6</span>,</span>
<span id="cb91-4"><a href="#cb91-4" aria-hidden="true" tabindex="-1"></a>    frac_par<span class="op">=</span><span class="fl">0.5</span>,</span>
<span id="cb91-5"><a href="#cb91-5" aria-hidden="true" tabindex="-1"></a>    selected_conversion<span class="op">=</span><span class="st">'rg_ppfd_umol_to_rg_watts'</span>,</span>
<span id="cb91-6"><a href="#cb91-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Global radiation (rg) converted from ppfd to watts</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>/tmp/ipykernel_10557/2430486604.py:40: UserWarning: Using j_to_mol default value of 4.6
  warnings.warn('Using j_to_mol default value of 4.6')
/tmp/ipykernel_10557/2430486604.py:43: UserWarning: Using frac_par default value of 0.5
  warnings.warn('Using frac_par default value of 0.5')</code></pre>
</div>
<div class="cell-output cell-output-display">
<pre><code>3.91304347826087</code></pre>
</div>
</div>
<div id="fe70fde5" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb95"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a>global_radiation_conversions_watts_ppfd(</span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>    rg_watts<span class="op">=</span><span class="dv">5</span>,</span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>    j_to_mol<span class="op">=</span><span class="fl">4.6</span>,</span>
<span id="cb95-4"><a href="#cb95-4" aria-hidden="true" tabindex="-1"></a>    frac_par<span class="op">=</span><span class="fl">0.5</span>,</span>
<span id="cb95-5"><a href="#cb95-5" aria-hidden="true" tabindex="-1"></a>    selected_conversion<span class="op">=</span><span class="st">'rg_watts_to_rg_ppfd_umol'</span>,</span>
<span id="cb95-6"><a href="#cb95-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Global radiation (rg) converted from watts to ppfd</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>/tmp/ipykernel_10557/2430486604.py:40: UserWarning: Using j_to_mol default value of 4.6
  warnings.warn('Using j_to_mol default value of 4.6')
/tmp/ipykernel_10557/2430486604.py:43: UserWarning: Using frac_par default value of 0.5
  warnings.warn('Using frac_par default value of 0.5')</code></pre>
</div>
<div class="cell-output cell-output-display">
<pre><code>11.5</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L725" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
</section>
<section id="global_radiation_conversions_watts_mjules" class="level3">
<h3 class="anchored" data-anchor-id="global_radiation_conversions_watts_mjules">global_radiation_conversions_watts_mjules</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb99"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> global_radiation_conversions_watts_mjules(</span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a>    rg_watts:<span class="bu">float</span><span class="op">=</span><span class="va">None</span>, <span class="co"># Instantaneous radiation (watts)</span></span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a>    rg_mj:<span class="bu">float</span><span class="op">=</span><span class="va">None</span>, <span class="co"># Instantaneous radiation (in Mega Jules?)</span></span>
<span id="cb99-5"><a href="#cb99-5" aria-hidden="true" tabindex="-1"></a>    nhours:<span class="bu">float</span><span class="op">=</span><span class="va">None</span>, <span class="co"># Number of hours of sun in the day</span></span>
<span id="cb99-6"><a href="#cb99-6" aria-hidden="true" tabindex="-1"></a>    selected_conversion:<span class="bu">str</span><span class="op">=</span><span class="st">'rg_watts_to_rg_mj'</span>, <span class="co"># String indicating to what units rg should be converted. Options are 'rg_watts_to_rg_mj', 'rg_mj_to_rg_watts', 'rg_mj_to_rg_watts_hour', 'rg_watts_to_rg_mjday' or 'rg_mjday_to_rg_watts'</span></span>
<span id="cb99-7"><a href="#cb99-7" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>:</span>
<span id="cb99-8"><a href="#cb99-8" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Convert instantaneous radiation in watts to daily cumulative radiation in MJ (MJ.day-1) and viceversa</em></p>
<section id="example-calculate-global-radiation-in-watts-and-in-mega-jules" class="level4">
<h4 class="anchored" data-anchor-id="example-calculate-global-radiation-in-watts-and-in-mega-jules"><strong>Example: Calculate Global radiation in Watts and in Mega Jules</strong></h4>
<div id="393f3e71" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb100"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>global_radiation_conversions_watts_mjules(</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>    rg_watts<span class="op">=</span><span class="dv">300</span>, selected_conversion<span class="op">=</span><span class="st">'rg_watts_to_rg_mjday'</span></span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Global radiation (rg) converted from watts to MegaJules per day</code></pre>
</div>
<div class="cell-output cell-output-display">
<pre><code>25.92</code></pre>
</div>
</div>
<div id="24c157d2" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb103"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>global_radiation_conversions_watts_mjules(</span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a>    rg_mj<span class="op">=</span><span class="fl">25.92</span>, selected_conversion<span class="op">=</span><span class="st">'rg_mj_to_rg_watts'</span></span>
<span id="cb103-3"><a href="#cb103-3" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Global radiation (rg) converted from Mega Jules to Watts</code></pre>
</div>
<div class="cell-output cell-output-display">
<pre><code>300.0</code></pre>
</div>
</div>
<div id="f80c8d85" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb106"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>global_radiation_conversions_watts_mjules(</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>    rg_mj<span class="op">=</span>np.array([<span class="dv">1</span>, <span class="dv">2</span>]),</span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>    nhours<span class="op">=</span><span class="dv">1</span>,</span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a>    selected_conversion<span class="op">=</span><span class="st">'rg_mj_to_rg_watts_hour'</span>,</span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Global radiation (rg) converted from Mega Jules to Watts per hour</code></pre>
</div>
<div class="cell-output cell-output-display">
<pre><code>array([277.77777778, 555.55555556])</code></pre>
</div>
</div>
<div id="d72ea9d3" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb109"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>global_radiation_conversions_watts_mjules(</span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>    rg_mj<span class="op">=</span><span class="dv">10</span>, nhours<span class="op">=</span><span class="dv">10</span>, selected_conversion<span class="op">=</span><span class="st">'rg_mj_to_rg_watts_hour'</span></span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Global radiation (rg) converted from Mega Jules to Watts per hour</code></pre>
</div>
<div class="cell-output cell-output-display">
<pre><code>277.77777777777777</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L817" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
</section>
<section id="declination" class="level3">
<h3 class="anchored" data-anchor-id="declination">declination</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb112"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> declination(</span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a>    day_of_year:<span class="bu">int</span>, <span class="co"># julian day (day of the year)</span></span>
<span id="cb112-4"><a href="#cb112-4" aria-hidden="true" tabindex="-1"></a>    day_of_spring:<span class="bu">int</span><span class="op">=</span><span class="dv">80</span>, <span class="co"># Julian day representing the first day of spring</span></span>
<span id="cb112-5"><a href="#cb112-5" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span><span class="bu">float</span>: <span class="co"># Earth declination at day_of_year</span></span>
<span id="cb112-6"><a href="#cb112-6" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Calculate declination of sun (radians ? ) for a given julian day (DOY)</em></p>
<section id="example-calculate-declination" class="level4">
<h4 class="anchored" data-anchor-id="example-calculate-declination"><strong>Example: Calculate declination</strong></h4>
<div id="2c03a3af" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb113"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a>declination(day_of_year<span class="op">=</span><span class="dv">90</span>, day_of_spring<span class="op">=</span><span class="dv">80</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stderr">
<pre><code>/tmp/ipykernel_613/1608233118.py:48: UserWarning: date of spring set to 80. This might change for Australia
  warnings.warn(</code></pre>
</div>
<div class="cell-output cell-output-display">
<pre><code>0.06835636102670284</code></pre>
</div>
</div>
<div id="f3d54610" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb116"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a>declination(day_of_year<span class="op">=</span>np.array([<span class="dv">100</span>, <span class="dv">200</span>]), day_of_spring<span class="op">=</span><span class="dv">80</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stderr">
<pre><code>/tmp/ipykernel_613/1608233118.py:48: UserWarning: date of spring set to 80. This might change for Australia
  warnings.warn(</code></pre>
</div>
<div class="cell-output cell-output-display">
<pre><code>array([0.1349969 , 0.35853539])</code></pre>
</div>
</div>
<hr>
<p><a href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L871" target="_blank" style="float:right; font-size:smaller">source</a></p>
</section>
</section>
<section id="potential_par" class="level3">
<h3 class="anchored" data-anchor-id="potential_par">potential_par</h3>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb119"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> potential_par(</span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a>    time_of_day_in_hours:<span class="bu">float</span>, <span class="co"># Array containing the time of the day (in hours) for which potential par should be calculated</span></span>
<span id="cb119-4"><a href="#cb119-4" aria-hidden="true" tabindex="-1"></a>    latitude:<span class="bu">float</span>, <span class="co"># Numeric value specifying the geographic latitude (in decimal degrees) of the location of interest</span></span>
<span id="cb119-5"><a href="#cb119-5" aria-hidden="true" tabindex="-1"></a>    day_of_year:<span class="bu">int</span>, <span class="co"># Julian day (day of the year)</span></span>
<span id="cb119-6"><a href="#cb119-6" aria-hidden="true" tabindex="-1"></a>)<span class="op">-&gt;</span>array: <span class="co"># Potential Photosynthetic Active Radiation (PAR) for each time_of_day at given latitude and given day_of_year</span></span>
<span id="cb119-7"><a href="#cb119-7" aria-hidden="true" tabindex="-1"></a></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Determine potential for a given place and date /used to determine cloud cover return potential par in W.m2</em></p>
<section id="example-calculate-the-potential-par" class="level4">
<h4 class="anchored" data-anchor-id="example-calculate-the-potential-par"><strong>Example: Calculate the Potential PAR</strong></h4>
<div id="09a7e0ca" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb120"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a>potential_par(time_of_day_in_hours<span class="op">=</span><span class="dv">19</span>, latitude<span class="op">=</span><span class="fl">45.1</span>, day_of_year<span class="op">=</span><span class="dv">100</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div id="97fc1f6c" class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb121"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>potential_par(</span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>    time_of_day_in_hours<span class="op">=</span>np.arange(<span class="dv">0</span>, <span class="dv">24</span>), latitude<span class="op">=</span><span class="fl">45.1</span>, day_of_year<span class="op">=</span><span class="dv">100</span></span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/ecamo19\.github\.io\/pysureau");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/ecamo19/pysureau/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>