# conversions_utils


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L26"
target="_blank" style="float:right; font-size:smaller">source</a>

### convert_f_to_v

``` python

def convert_f_to_v(
    x, # Soil value to be converted (m3.m-3)
    layer_thickness:float, # Thickness of the soil layer (in m)
    rfc:float=0, # Rock fragment content of the soil layer (%)
)->float: # Soil water height (mm)

```

*Convert soil volumetric water content (m3.m-3) to water height (mm)
according to thickness and rock fragment content of the given soil
layer*

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L36"
target="_blank" style="float:right; font-size:smaller">source</a>

### convert_vwc_to_sws

``` python

def convert_vwc_to_sws(
    volumetric_water_content_x:float, # Volumetric water content (m3.m-3)
    layer_thickness:float, # Thickness of the soil layer (in m)
    rfc:float=0, # Rock fragment content of the soil layer (%)
)->float: # Soil Water Stock (mm)

```

*Convert soil volumetric water content (VWC) to soil water stock (SWS).
The volume of the water quantity per square metre results in the
corresponding water stock height (m3 water per m2 soil as height in mm)*

``` python
convert_vwc_to_sws(volumetric_water_content_x=0.5, rfc=50, layer_thickness=1)
```

    250.0

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L48"
target="_blank" style="float:right; font-size:smaller">source</a>

### convert_sws_to_vwc

``` python

def convert_sws_to_vwc(
    soil_water_stock_x:float, # Soil water stock (mm)
    layer_thickness:float, # Thickness of the soil layer (in m)
    rfc:float=0, # Rock fraction  content of the soil layer (%)
)->float: # Volumetric Water Content (m3.m-3)

```

*Convert soil water stock (SWS) to volumetric water content (VWC).
Convert soil water stock (quantity as height in mm per m2 soil) to
volumetric water content (m3.m-3) by accounting for the respective layer
thickness and rock fragment content.*

``` python
convert_sws_to_vwc(soil_water_stock_x=250, rfc=50, layer_thickness=1)
```

    0.5

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L57"
target="_blank" style="float:right; font-size:smaller">source</a>

### convert_ksat_cmday_to_ksat_micromol

``` python

def convert_ksat_cmday_to_ksat_micromol(
    ksat_cmday:float, # Saturated hydraulic conductivity? in centimeters per day
)->float: # Saturated Hydraulic Conductivity?(ksat) in mmol/s/m/MPa

```

*Convert Saturated Hydraulic Conductivity?(ksat) units from cm/day
(ESDAC unit) to mmol/s/m/MPa (Sureau unit)*

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L73"
target="_blank" style="float:right; font-size:smaller">source</a>

### convert_rate_to_molm_s_m_mpa

``` python

def convert_rate_to_molm_s_m_mpa(
    rate_x:float, # A rate in L/T. The default assumes cm/d to be converted to m/s
    molm:float=18.01528, # Molar mass of h2o (g mol-1)
    pa:float=9.80665, # Hydrostatic pressure (Pa mm-1)
    xfac:float=8640000, # Divisor converting rate (L T-1) to (m s-1). Value 8640000 comes from 24 * 60 ** 2 * 100
)->float: # Converted rate to SurEau-Ecos unit (mmol.h2o s-1 m-1.soil MPa-1)

```

*Convert a hydraulic rate to SurEau-Ecos rate*

``` python
convert_rate_to_molm_s_m_mpa(1)
```

    655.1255924715483

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L87"
target="_blank" style="float:right; font-size:smaller">source</a>

### convert_molm_s_m_mpa_to_rate

``` python

def convert_molm_s_m_mpa_to_rate(
    rate_x:float, # # Unknown parameter definition
    molm:float=18.01528, # Molar mass of h2o (g mol-1)
    pa:float=9.80665, # Hydrostatic pressure (Pa mm-1)
    xfac:float=8640000, # Divisor converting rate (L T-1) to (m s-1). Value 8640000 comes from 24 * 60 ** 2 * 100
)->float: # A rate (L/T)

```

*Convert SurEau-Ecos rate to a hydraulic rate. Inverse of
convert_rate_to_molm_s_m_mpa() funtion.*

``` python
convert_molm_s_m_mpa_to_rate(655.1255924715483)
```

    0.9999999999999999

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L98"
target="_blank" style="float:right; font-size:smaller">source</a>

### convert_mpa_to_m

``` python

def convert_mpa_to_m(
    mpa_x:float, # Hydrostatic pressure in MPa
    pa:float=9.80665, # Hydrostatic pressure (Pa mm-1)
)->float: # Pressure height in meters

```

*Conversion of hydrostatic pressure (MPa) to pressure height (m)*

``` python
convert_mpa_to_m(1)
```

    101.97162129779284

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L107"
target="_blank" style="float:right; font-size:smaller">source</a>

### convert_m_to_mpa

``` python

def convert_m_to_mpa(
    m_x:float, # Pressure height in meters
    pa:float=9.80665, # Hydrostatic pressure (Pa mm-1)
)->float:

```

*Conversion of pressure height (m) to hydrostatic pressure (MPa)*

``` python
convert_m_to_mpa(101.97162129779284)
```

    1.0

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L116"
target="_blank" style="float:right; font-size:smaller">source</a>

### convert_pf_to_hpa

``` python

def convert_pf_to_hpa(
    x:float, # Unknown parameter definition
)->float: # Unknown parameter definition

```

*Function lacks definition, documentation needs to be improved.*

``` python
convert_pf_to_hpa(1.8)
```

    63.09573444801933

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L124"
target="_blank" style="float:right; font-size:smaller">source</a>

### convert_hpa_to_pf

``` python

def convert_hpa_to_pf(
    x:float, # Unknown parameter definition
)->float: # Unknown parameter definition

```

*Function lacks definition, documentation needs to be improved.*

``` python
convert_hpa_to_pf(63.09573444801933)
```

    1.8

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L132"
target="_blank" style="float:right; font-size:smaller">source</a>

### convert_vg_psi_to_theta

``` python

def convert_vg_psi_to_theta(
    vg_psi_x:float, # Soil matric potential (hPa)
    theta_s:float, # Saturated water content (L3 L-3)
    theta_r:float, # Residual water content (L3 L-3)
    a:float, # Parameter related to the inverse of the air-entry pressure (unitless?)
    n:float, # Parameter related to the pore-size distribution (unitless)
)->float: # Volumetric water content

```

*Unit conversion from soil matric potential (Psi) to volumetric water
content (Theta) using the Mualem-van-Genuchten pedotransfer function*

``` python
convert_vg_psi_to_theta(
    vg_psi_x=np.array([-1e6, -1e2, 0]), theta_s=0.5, theta_r=0.1, a=0.05, n=1.5
)
```

    array([0.10178885, 0.27384953, 0.5       ])

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L146"
target="_blank" style="float:right; font-size:smaller">source</a>

### convert_vg_theta_to_psi

``` python

def convert_vg_theta_to_psi(
    vwc_theta_x:float, # volumetric water content (L3 L-3)
    theta_s:float, # Saturated water content (L3 L-3)
    theta_r:float, # Residual water content (L3 L-3)
    a:float, # Parameter related to the inverse of the air-entry pressure (unitless?)
    n:float, # Parameter related to the pore-size distribution (unitless)
)->float: # Soil matric potential

```

*Unit conversion from volumetric water content (Theta) to soil matric
potential (Psi) using the Mualem-van-Genuchten pedotransfer function*

``` python
convert_vg_theta_to_psi(
    vwc_theta_x=np.array([0.1, 0.3, 0.5]),
    theta_s=0.5,
    theta_r=0.1,
    a=0.05,
    n=1.5,
)
```

    /tmp/ipykernel_9862/3671110304.py:16: RuntimeWarning: divide by zero encountered in power
      return (theta_eff ** (-1/(1 - 1/n)) - 1) ** (1/n) / a * (-1)

    array([       -inf, -73.1861142,  -0.       ])

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L161"
target="_blank" style="float:right; font-size:smaller">source</a>

### convert_vwc_to_rew

``` python

def convert_vwc_to_rew(
    vwc_x:float, # Volumetric Water Content (L3*L-3)
    theta_s:float, # Saturated water content (L3 L-3)
    theta_r:float, # Residual water content (L3 L-3)
)->float: # Relative Extractable water

```

*Conversion from volumetric water content to relative extractable water
(REW). REW is the volumetric water content normalised to saturation
capacity (REW=1) and residual capacity (REW=0)*

``` python
convert_vwc_to_rew(vwc_x=np.array([0.1, 0.3, 0.5]), theta_s=0.5, theta_r=0.1)
```

    array([0. , 0.5, 1. ])

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L171"
target="_blank" style="float:right; font-size:smaller">source</a>

### convert_rew_to_vwc

``` python

def convert_rew_to_vwc(
    rew_x:float, # Relative Extractable water (rew)
    theta_s:float, # Saturated water content (L3 L-3)
    theta_r:float, # Residual water content (L3 L-3)
)->float: # Volumetric Water Content (L3*L-3)

```

*Conversion from relative extractable water to volumetric water*

``` python
convert_rew_to_vwc(rew_x=np.array([0, 0.5, 1]), theta_s=0.5, theta_r=0.1)
```

    array([0.1, 0.3, 0.5])

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L180"
target="_blank" style="float:right; font-size:smaller">source</a>

### convert_mmol_to_m3

``` python

def convert_mmol_to_m3(
    mmol_h2o_x:float, # Unit to be converted (mmol, m³ or mm depending on the used function
    molm:float=18.01528, # Molar mass of h2o (g mol-1)
    pw:float=998, # Density of water (kg m-3.h2o)
)->float: # Unknown parameter

```

*Stochiometric conversion between volume and molarity In case of
converting from or to millimetres (mm), the actual unit is the volume
divided by its area, resulting in a depth given in millimetres.*

``` python
convert_mmol_to_m3(1)
```

    1.8051382765531063e-08

``` python
def convert_m3_to_mmol(
    m3_x: float,
    molm: float = 18.01528,  # Molar mass of h2o (g mol-1)
    pw: float = 998,  # Density of water (kg m-3.h2o)
) -> float:  #
    "Stochiometric conversion between volume and molarity  In case of converting from or to millimetres (mm), the actual unit is the volume divided by its area, resulting in a depth given in millimetres."

    return m3_x / molm * pw * 1e6
```

``` python
convert_m3_to_mmol(1.8051382765531063e-08)
```

    1.0

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L190"
target="_blank" style="float:right; font-size:smaller">source</a>

### convert_mmol_to_mm

``` python

def convert_mmol_to_mm(
    mmol_h2o_x:float, # Unit to be converted (mmol, m³ or mm depending on the used function
    molm:float=18.01528, # Molar mass of h2o (g mol-1)
    pw:float=998, # Density of water (kg m-3.h2o)
)->float: # Unknown parameter

```

*Stochiometric conversion between volume and molarity In case of
converting from or to millimetres (mm), the actual unit is the volume
divided by its area, resulting in a depth given in millimetres.*

``` python
convert_mmol_to_mm(1)
```

    1.8051382765531063e-05

``` python
def convert_mm_to_mmol(
    mm_x: float,
    molm: float = 18.01528,  # Molar mass of h2o (g mol-1)
    pw: float = 998,  # Density of water (kg m-3.h2o)
) -> float:
    "Stochiometric conversion between volume and molarity  In case of converting from or to millimetres (mm), the actual unit is the volume divided by its area, resulting in a depth given in millimetres."

    return mm_x / molm * pw * 1e3
```

``` python
convert_mm_to_mmol(1.8051382765531063e-05)
```

    1.0

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L199"
target="_blank" style="float:right; font-size:smaller">source</a>

### convert_compartment_leaf_to_soil

``` python

def convert_compartment_leaf_to_soil(
    x:float, # Unknown parameter definition m2.leaf
    lai:float=1, # Leaf Area Index
)->float: # Unknown parameter m2.soil

```

*Function lacks definition, documentation needs to be improved.*

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L207"
target="_blank" style="float:right; font-size:smaller">source</a>

### convert_compartment_soil_to_leaf

``` python

def convert_compartment_soil_to_leaf(
    x:float, # Unknown parameter definition m2.soil
    lai:float=1, # Leaf Area Index
)->float: # Unknown parameter m2.leaf

```

*Function lacks definition, documentation needs to be improved.*

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L215"
target="_blank" style="float:right; font-size:smaller">source</a>

### convert_compartment_stem_to_leaf

``` python

def convert_compartment_stem_to_leaf(
    stem_x:float, # Unknown parameter definition m2.stem
    hv:float, # Huber value (sap wood / leaf area)
)->float: # Unknown parameter m2.leaf

```

*Function lacks definition, documentation needs to be improved.*

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L223"
target="_blank" style="float:right; font-size:smaller">source</a>

### convert_compartment_leaf_to_stem

``` python

def convert_compartment_leaf_to_stem(
    leaf_x:float, # Unknown parameter definition m2.leaf
    hv:float, # Huber value (sap wood / leaf area)
)->float: # Unknown parameter m2.stem

```

*Function lacks definition, documentation needs to be improved.*

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L231"
target="_blank" style="float:right; font-size:smaller">source</a>

### convert_compartment_stem_to_soil

``` python

def convert_compartment_stem_to_soil(
    stem_x:float, # Unknown parameter definition
    swi:float, # Sap wood index (m2.sapwood m-2.soil)
)->float: # Unknown parameter m2.soil

```

*Function lacks definition, documentation needs to be improved.*

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L239"
target="_blank" style="float:right; font-size:smaller">source</a>

### convert_compartment_soil_to_stem

``` python

def convert_compartment_soil_to_stem(
    soil_x:float, # Unknown parameter definition
    swi:float, # Sap wood index (m2.sapwood m-2.soil)
)->float: # Unknown parameter m2.stem

```

*Function lacks definition, documentation needs to be improved.*

``` python
def convert_stock_to_flux(
    x: float,
    dt: int,  # Time step length in seconds
) -> float:  #
    "Function lacks definition, documentation needs to be improved."
    return x / dt
```

``` python
def convert_flux_to_stock(
    x: float,
    dt: int,  # Time step length in seconds
) -> float:  #
    "Function lacks definition, documentation needs to be improved."
    return x * dt
```

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L248"
target="_blank" style="float:right; font-size:smaller">source</a>

### convert_stock_mm_soil_to_flux_mmol_leaf

``` python

def convert_stock_mm_soil_to_flux_mmol_leaf(
    stand_water_stock_x:float, # Stand level water stock for a given LAI in mm(L m-2Soil) over the period of time considered
    lai:float, # Leaf area Index
    dt:float, # Time step length in seconds
    molm:float=18.01528, # Molar mass of h2o (g mol-1)
    pw:float=998, # Density of water (kg m-3.h2o)
)->float: # Instantaneous leaf area-based flux (mmol m-2Leaf s-1)

```

*Converts a stand level water quantity (mm, i.e. L m-2Soil) over a
defined time period to a leaf area-based flux (mmol m-2Leaf s-1) for a
given leaf area index*

``` python
convert_stock_mm_soil_to_flux_mmol_leaf(stand_water_stock_x=2, dt=60**2, lai=3)
```

    10.25878114660526

``` python
def convert_flux_mmol_leaf_to_stock_mm_soil(
    leaf_area_based_flux: float,  # Instantaneous leaf area-based flux to be converted (mmol m-2Leaf s-1)
    dt: float,  # Time step length in seconds
    lai: float,  # Leaf area Index
    molm: float = 18.01528,  # Molar mass of h2o (g mol-1)
    pw: float = 998,  # Density of water (kg m-3.h2o)
) -> float:  # Stand level water stock for a given LAI in mm (L m-2Soil) over the period of time considered.
    "Converts an instantaneous leaf area-based flux (mmol m-2Leaf s-1) to a stand level water quantity (mm, i.e. L m-2Soil) for a given leaf area index over a defined time period."
    stock = convert_flux_to_stock(x=leaf_area_based_flux, dt=dt)
    mm = convert_mmol_to_mm(mmol_h2o_x=stock, molm=molm, pw=pw)

    return convert_compartment_leaf_to_soil(x=mm, lai=lai)
```

``` python
# 10 mmol/s over a period of 1 hour with an LAI of 3 m² is converted to
# millimetres of soil water stock (L/m²)

convert_flux_mmol_leaf_to_stock_mm_soil(leaf_area_based_flux=10, dt=60**2, lai=3)
```

    1.9495493386773552

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L273"
target="_blank" style="float:right; font-size:smaller">source</a>

### convert_optim_mm_soil_to_mmol_leaf

``` python

def convert_optim_mm_soil_to_mmol_leaf(
    instaneous_flux:float, # Stand level water stock for a given LAI in mm (L m-2Soil) over the period of time considered
    dt:float, # Time step length in seconds
    lai:float, # Leaf area index
)->float: # Instantaneous leaf area-based flux (mmol m-2Leaf s-1

```

*Converts a stand level water quantity (mm, i.e. L m-2Soil) over a
defined time period to a leaf area-based flux (mmol m-2Leaf s-1) for a
given leaf area index.*

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L295"
target="_blank" style="float:right; font-size:smaller">source</a>

### convert_optim_mmol_leaf_to_mm_soil

``` python

def convert_optim_mmol_leaf_to_mm_soil(
    x:float, # Instantaneous leaf area-based flux to be converted (mmol m-2Leaf s-1)
    dt:float, # Time step length in seconds
    lai:float, # Leaf area index
)->float: # Stand level water stock for a given LAI in mm (L m-2Soil) over the period of time considered

```

*Converts an instantaneous leaf area-based flux (mmol m-2Leaf s-1) to a
stand level water quantity*

## Functions of conversion and temporal disagregation of climatic variable as well as PET computation

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L305"
target="_blank" style="float:right; font-size:smaller">source</a>

### compute_vpd_from_temp_rh

``` python

def compute_vpd_from_temp_rh(
    relative_humidity:float, # Air relative_humidity (%)
    temperature:float, # Air temperature (degrees Celsius)
    air_pressure:float=101325, # Air pressure (Pa)
)->float:

```

*Compute vapor pressure deficit (VPD) from air relative humidity (rh)
and air temperature (temp)*

#### **Example: Compute VPD**

``` python
compute_vpd_from_temp_rh(relative_humidity=70, temperature=55)
```

    array([4.76019573])

``` python
compute_vpd_from_temp_rh(relative_humidity=25, temperature=np.array([80, 90]))
```

    array([36.10624792, 53.70318944])

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L400"
target="_blank" style="float:right; font-size:smaller">source</a>

### compute_slope_sat

``` python

def compute_slope_sat(
    tmoy:float, # Mean daily temperature in °C
)->float: # Slope of the saturation vapour pressure function

```

*Compute slope of the saturation vapour pressure function (AO 1998)*

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L413"
target="_blank" style="float:right; font-size:smaller">source</a>

### compute_pet

``` python

def compute_pet(
    tmoy:float, # Mean temperature over the considered time step (degrees Celsius)
    net_radiation:float, # Cumulative Net radiation over the considered time sep (MJ.m2)
    g:float=0, # Energy storage parameter. Represents ground heat flux
    vpd:float=None, # Vapor pressure deficit (kpa) for calculating etp using the Penman-Monteith (penman) formulation
    wind_speed_u:float=None, # Wind speed (m.s-1) for calculating etp using the Penman-monteith (penman) formulation
    pt_coeff:float=None, # An empirical constant accounting for the vapor pressure deficit and resistance values. Typically, α is 1.26 for open bodies of water, but has a wide range of values from less than 1 (humid conditions) to almost 2 (arid conditions).
    formulation:str='pt', # String indicating which formulation to use (Pristeley Taylor (pt) or Penman-Monteith (penman)) for calculating potential evapotranspiration
)->float: # Potential evapotranspiration (PET) (mm)

```

*Calcule Potential Evapotranspiration (mm) PET using Pristeley Taylor
(pt) or Penmman (penman) formulation*

#### **Example: Compute Potential Evapotranspiration**

``` python
compute_pet(tmoy=80, net_radiation=25, formulation='pt')
```

``` python
compute_pet(
    tmoy=20, net_radiation=1, wind_speed_u=2, vpd=2, formulation='penman'
)
```

``` python
compute_pet(
    tmoy=15, net_radiation=5, wind_speed_u=2, vpd=1, formulation='penman'
)
```

    1.126055124868983

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L540"
target="_blank" style="float:right; font-size:smaller">source</a>

### calculate_radiation_diurnal_pattern

``` python

def calculate_radiation_diurnal_pattern(
    time_of_day:int, # Numeric value of vector indicating the time of the day (in seconds)
    day_length:int, # Value indicating the duration of the day (in seconds). Calculated using the [`day_length`](https://ecamo19.github.io/pysureau/climate_utils.html#day_length) function
)->float:

```

*Calculated diurnal pattern of temperature assuming a sinusoidal pattern
with T = tmin at sunrise and T = (tmin + tmax)/2 at sunset. From sunset
to sunrise follows a linear trend*

#### **Example: Calculate radiation diurnal pattern**

``` python
calculate_radiation_diurnal_pattern(time_of_day=1, day_length=40)
```

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L602"
target="_blank" style="float:right; font-size:smaller">source</a>

### calculate_temperature_diurnal_pattern

``` python

def calculate_temperature_diurnal_pattern(
    time_of_day:float, # Value of vector indicating the time of the day (in seconds from sunrise)
    day_length:int, # Value indicating the duration of the day (in seconds). Calculated using the [`day_length`](https://ecamo19.github.io/pysureau/climate_utils.html#day_length) function
    tmin:float, # Minimum temperature (in degrees C) of the target day of the year
    tmax:float, # Maximum temperature (in degrees C) of the target day of the year
    tmin_prev:float, # Minimum temperature (in degrees C) of the previous target day of the year
    tmax_prev:float, # Maximum temperature (in degrees C) of the previous target day of the year
    tmin_next:float, # Minimum temperature (in degrees C) of the next target day of the year
)->float: # Temperature at the given time

```

*Calculated diurnal pattern of temperature assuming a sinusoidal pattern
with T = tmin at sunrise and T = (tmin+tmax)/2 at sunset. From sunset to
sunrise follows a linear trend*

#### **Example: calculate the temperature diurnal pattern**

``` python
calculate_temperature_diurnal_pattern(
    time_of_day=0,
    day_length=0,
    tmin=0.6,
    tmax=8.2,
    tmin_prev=2.6,
    tmax_prev=11.3,
    tmin_next=4.7,
)
```

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L644"
target="_blank" style="float:right; font-size:smaller">source</a>

### calculate_rh_diurnal_pattern

``` python

def calculate_rh_diurnal_pattern(
    temperature:float, # Numeric value providing the target temperature (degrees C) at which we should compute target rh
    rhmin:float, # Numeric value indicating the minimum relative humidity (%) of the day
    rhmax:float, # Numeric value indicating the maximum relative humidity (%) of the day
    tmin:float, # Numeric value indicating the minimum daily temperature (degrees C)
    tmax:float, # Numeric value indicating the maximum daily temperature (degrees C)
)->float: # Relative humidity at given temperature

```

*Calculate diurnal pattern of relative humidity from temperature*

``` python
calculate_rh_diurnal_pattern(17, 40, 80, 15, 25)
```

    72.0

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L668"
target="_blank" style="float:right; font-size:smaller">source</a>

### global_radiation_conversions_watts_ppfd

``` python

def global_radiation_conversions_watts_ppfd(
    rg_ppfd:float=None, # Photosynthetic photon flux density (umol.m-2.s-1)
    rg_watts:float=None, # Global radiation (W/m2)
    j_to_mol:float=4.6, # Conversion factor
    frac_par:float=0.5, # Fraction of solar radiation that is photosynthetically active radiation (PAR)
    selected_conversion:str='rg_watts_to_rg_ppfd_umol', # String indicating to what units rg should be converted. Options 'rg_ppfd_umol_to_rg_watts' or 'rg_watts_to_rg_ppfd_umol'
)->float:

```

*Convert Global Radiation (rg) in watts to Photosynthetic Photon Flux
Density (ppfd) in umol and viceversa*

#### **Example: Calculate Global radiation in Watts and in PPFD**

``` python
global_radiation_conversions_watts_ppfd(
    rg_watts=7,
    j_to_mol=4.6,
    frac_par=0.5,
    selected_conversion='rg_watts_to_rg_ppfd_umol',
)
```

    Global radiation (rg) converted from watts to ppfd

    /tmp/ipykernel_613/1345094339.py:41: UserWarning: Using j_to_mol default value of 4.6
      warnings.warn('Using j_to_mol default value of 4.6')
    /tmp/ipykernel_613/1345094339.py:44: UserWarning: Using frac_par default value of 0.5
      warnings.warn('Using frac_par default value of 0.5')

    16.099999999999998

``` python
global_radiation_conversions_watts_ppfd(
    rg_ppfd=9,
    j_to_mol=4.6,
    frac_par=0.5,
    selected_conversion='rg_ppfd_umol_to_rg_watts',
)
```

    Global radiation (rg) converted from ppfd to watts

    /tmp/ipykernel_10557/2430486604.py:40: UserWarning: Using j_to_mol default value of 4.6
      warnings.warn('Using j_to_mol default value of 4.6')
    /tmp/ipykernel_10557/2430486604.py:43: UserWarning: Using frac_par default value of 0.5
      warnings.warn('Using frac_par default value of 0.5')

    3.91304347826087

``` python
global_radiation_conversions_watts_ppfd(
    rg_watts=5,
    j_to_mol=4.6,
    frac_par=0.5,
    selected_conversion='rg_watts_to_rg_ppfd_umol',
)
```

    Global radiation (rg) converted from watts to ppfd

    /tmp/ipykernel_10557/2430486604.py:40: UserWarning: Using j_to_mol default value of 4.6
      warnings.warn('Using j_to_mol default value of 4.6')
    /tmp/ipykernel_10557/2430486604.py:43: UserWarning: Using frac_par default value of 0.5
      warnings.warn('Using frac_par default value of 0.5')

    11.5

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L725"
target="_blank" style="float:right; font-size:smaller">source</a>

### global_radiation_conversions_watts_mjules

``` python

def global_radiation_conversions_watts_mjules(
    rg_watts:float=None, # Instantaneous radiation (watts)
    rg_mj:float=None, # Instantaneous radiation (in Mega Jules?)
    nhours:float=None, # Number of hours of sun in the day
    selected_conversion:str='rg_watts_to_rg_mj', # String indicating to what units rg should be converted. Options are 'rg_watts_to_rg_mj', 'rg_mj_to_rg_watts', 'rg_mj_to_rg_watts_hour', 'rg_watts_to_rg_mjday' or 'rg_mjday_to_rg_watts'
)->float:

```

*Convert instantaneous radiation in watts to daily cumulative radiation
in MJ (MJ.day-1) and viceversa*

#### **Example: Calculate Global radiation in Watts and in Mega Jules**

``` python
global_radiation_conversions_watts_mjules(
    rg_watts=300, selected_conversion='rg_watts_to_rg_mjday'
)
```

    Global radiation (rg) converted from watts to MegaJules per day

    25.92

``` python
global_radiation_conversions_watts_mjules(
    rg_mj=25.92, selected_conversion='rg_mj_to_rg_watts'
)
```

    Global radiation (rg) converted from Mega Jules to Watts

    300.0

``` python
global_radiation_conversions_watts_mjules(
    rg_mj=np.array([1, 2]),
    nhours=1,
    selected_conversion='rg_mj_to_rg_watts_hour',
)
```

    Global radiation (rg) converted from Mega Jules to Watts per hour

    array([277.77777778, 555.55555556])

``` python
global_radiation_conversions_watts_mjules(
    rg_mj=10, nhours=10, selected_conversion='rg_mj_to_rg_watts_hour'
)
```

    Global radiation (rg) converted from Mega Jules to Watts per hour

    277.77777777777777

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L817"
target="_blank" style="float:right; font-size:smaller">source</a>

### declination

``` python

def declination(
    day_of_year:int, # julian day (day of the year)
    day_of_spring:int=80, # Julian day representing the first day of spring
)->float: # Earth declination at day_of_year

```

*Calculate declination of sun (radians ? ) for a given julian day (DOY)*

#### **Example: Calculate declination**

``` python
declination(day_of_year=90, day_of_spring=80)
```

    /tmp/ipykernel_613/1608233118.py:48: UserWarning: date of spring set to 80. This might change for Australia
      warnings.warn(

    0.06835636102670284

``` python
declination(day_of_year=np.array([100, 200]), day_of_spring=80)
```

    /tmp/ipykernel_613/1608233118.py:48: UserWarning: date of spring set to 80. This might change for Australia
      warnings.warn(

    array([0.1349969 , 0.35853539])

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/main/pysureau/conversions_utils.py#L871"
target="_blank" style="float:right; font-size:smaller">source</a>

### potential_par

``` python

def potential_par(
    time_of_day_in_hours:float, # Array containing the time of the day (in hours) for which potential par should be calculated
    latitude:float, # Numeric value specifying the geographic latitude (in decimal degrees) of the location of interest
    day_of_year:int, # Julian day (day of the year)
)->array: # Potential Photosynthetic Active Radiation (PAR) for each time_of_day at given latitude and given day_of_year

```

*Determine potential for a given place and date /used to determine cloud
cover return potential par in W.m2*

#### **Example: Calculate the Potential PAR**

``` python
potential_par(time_of_day_in_hours=19, latitude=45.1, day_of_year=100)
```

``` python
potential_par(
    time_of_day_in_hours=np.arange(0, 24), latitude=45.1, day_of_year=100
)
```
