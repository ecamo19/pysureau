# Soil utils functions


<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/master/pysureau/soil_utils.py#L22"
target="_blank" style="float:right; font-size:smaller">source</a>

### compute_b

>  compute_b (lv:float)

*Calculate b used to compute the B of the Gardnar-Cowen model*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>lv</td>
<td>float</td>
<td>length of fine root per unit volume</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>float</strong></td>
<td></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/master/pysureau/soil_utils.py#L30"
target="_blank" style="float:right; font-size:smaller">source</a>

### compute_b_gc

>  compute_b_gc (la:float, b:float, root_radius:float)

*Calculate B Gardner cowen thhe scaling factor for soil conductance*

<table>
<colgroup>
<col style="width: 9%" />
<col style="width: 38%" />
<col style="width: 52%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>la</td>
<td>float</td>
<td>Unknown parameter definition</td>
</tr>
<tr>
<td>b</td>
<td>float</td>
<td>Unknown parameter definition</td>
</tr>
<tr>
<td>root_radius</td>
<td>float</td>
<td>Calculated using the <a
href="https://ecamo19.github.io/pysureau/soil_utils.html#compute_b"><code>compute_b</code></a>
function</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>float</strong></td>
<td></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/master/pysureau/soil_utils.py#L40"
target="_blank" style="float:right; font-size:smaller">source</a>

### compute_k_soil

>  compute_k_soil (rew:float, i_vg:float, n_vg:float, k_sat_vg:float,
>                      b_gc:float)

<table>
<colgroup>
<col style="width: 9%" />
<col style="width: 38%" />
<col style="width: 52%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>rew</td>
<td>float</td>
<td>Unknown parameter definition</td>
</tr>
<tr>
<td>i_vg</td>
<td>float</td>
<td>Unknown parameter definition</td>
</tr>
<tr>
<td>n_vg</td>
<td>float</td>
<td>Unknown parameter definition</td>
</tr>
<tr>
<td>k_sat_vg</td>
<td>float</td>
<td>Unknown parameter definition</td>
</tr>
<tr>
<td>b_gc</td>
<td>float</td>
<td>Calculated using the <a
href="https://ecamo19.github.io/pysureau/soil_utils.html#compute_b_gc"><code>compute_b_gc</code></a>
function</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>float</strong></td>
<td></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/master/pysureau/soil_utils.py#L64"
target="_blank" style="float:right; font-size:smaller">source</a>

### compute_k_soil_camp

>  compute_k_soil_camp (sws:float, tsc:float, b_camp:float,
>                           k_sat_campbell:float)

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>sws</td>
<td>float</td>
<td>Unknown parameter definition</td>
</tr>
<tr>
<td>tsc</td>
<td>float</td>
<td>Unknown parameter definition</td>
</tr>
<tr>
<td>b_camp</td>
<td>float</td>
<td>Unknown parameter definition</td>
</tr>
<tr>
<td>k_sat_campbell</td>
<td>float</td>
<td>Unknown parameter definition</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>float</strong></td>
<td></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/master/pysureau/soil_utils.py#L73"
target="_blank" style="float:right; font-size:smaller">source</a>

### compute_p_soil

>  compute_p_soil (rew:float, alpha_vg:float, n_vg:float)

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>rew</td>
<td>float</td>
<td>Unknown parameter definition</td>
</tr>
<tr>
<td>alpha_vg</td>
<td>float</td>
<td>Unknown parameter definition</td>
</tr>
<tr>
<td>n_vg</td>
<td>float</td>
<td>Unknown parameter definition</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>float</strong></td>
<td></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/master/pysureau/soil_utils.py#L84"
target="_blank" style="float:right; font-size:smaller">source</a>

### compute_p_soil_camp

>  compute_p_soil_camp (sws:float, tsc:float, b_camp:float, psie:float)

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>sws</td>
<td>float</td>
<td>Unknown parameter definition</td>
</tr>
<tr>
<td>tsc</td>
<td>float</td>
<td>Unknown parameter definition</td>
</tr>
<tr>
<td>b_camp</td>
<td>float</td>
<td>Unknown parameter definition</td>
</tr>
<tr>
<td>psie</td>
<td>float</td>
<td>Unknown parameter definition</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>float</strong></td>
<td></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/master/pysureau/soil_utils.py#L93"
target="_blank" style="float:right; font-size:smaller">source</a>

### compute_theta_at_given_p_soil

>  compute_theta_at_given_p_soil (psi_target:float, theta_res:float,
>                                     theta_sat:float, alpha_vg:float,
>                                     n_vg:float)

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>psi_target</td>
<td>float</td>
<td>Unknown parameter definition</td>
</tr>
<tr>
<td>theta_res</td>
<td>float</td>
<td>Unknown parameter definition</td>
</tr>
<tr>
<td>theta_sat</td>
<td>float</td>
<td>Unknown parameter definition</td>
</tr>
<tr>
<td>alpha_vg</td>
<td>float</td>
<td>Unknown parameter definition</td>
</tr>
<tr>
<td>n_vg</td>
<td>float</td>
<td>Unknown parameter definition</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>float</strong></td>
<td></td>
</tr>
</tbody>
</table>

#### **Example: Compute theta parameter**

``` python
compute_theta_at_given_p_soil(
    psi_target=2, theta_res=3, theta_sat=4, alpha_vg=5, n_vg=1.1
)
```

    3.316227675107904

``` python
compute_theta_at_given_p_soil(
    psi_target=np.array([1.5, 2]),
    theta_res=np.array([3, -2]),
    theta_sat=np.array([-6, -7]),
    alpha_vg=np.array([9.02, 2.9]),
    n_vg=np.array([-1.5, 0.001]),
)
```

    array([-5.99999970e+000, -6.51316634e+303])

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/master/pysureau/soil_utils.py#L119"
target="_blank" style="float:right; font-size:smaller">source</a>

### compute_theta_at_given_p_soil_camp

>  compute_theta_at_given_p_soil_camp (theta_sat:float, psi_target:float,
>                                          psie:float, b_camp:float)

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>theta_sat</td>
<td>float</td>
<td>Unknown parameter definition</td>
</tr>
<tr>
<td>psi_target</td>
<td>float</td>
<td>Unknown parameter definition</td>
</tr>
<tr>
<td>psie</td>
<td>float</td>
<td>Unknown parameter definition</td>
</tr>
<tr>
<td>b_camp</td>
<td>float</td>
<td>Unknown parameter definition</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>float</strong></td>
<td></td>
</tr>
</tbody>
</table>

#### **Example: Compute theta parameter for Campbell formulation**

``` python
compute_theta_at_given_p_soil_camp(
    psi_target=-1.5, theta_sat=0.39, psie=-0.025, b_camp=-4.0
)
```

    0.14012860366560284

``` python
compute_theta_at_given_p_soil_camp(
    psi_target=np.array([-1.5, -2]),
    theta_sat=np.array([0.70]),
    psie=np.array([-0.025, -4]),
    b_camp=np.array([-4.0, -6]),
)
```

    array([0.25151288, 0.78572343])

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/master/pysureau/soil_utils.py#L147"
target="_blank" style="float:right; font-size:smaller">source</a>

### create_empty_soil_parameter_files

>  create_empty_soil_parameter_files (path:pathlib._local.Path)

*Function for creating the CSV templates necessary for the soil
parameters*

<table>
<colgroup>
<col style="width: 9%" />
<col style="width: 38%" />
<col style="width: 52%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>path</td>
<td>Path</td>
<td>Path to the folder where the parameter files will be saved. If set
to None then the files will be saved at the current working
directory</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>Dict</strong></td>
<td><strong>Return two dictionary files for user input</strong></td>
</tr>
</tbody>
</table>

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/master/pysureau/soil_utils.py#L228"
target="_blank" style="float:right; font-size:smaller">source</a>

### read_soil_file

>  read_soil_file (file_path:pathlib._local.Path, sep:str=',')

*Function for reading a data frame containing information about soil
characteristics*

<table>
<colgroup>
<col style="width: 6%" />
<col style="width: 25%" />
<col style="width: 34%" />
<col style="width: 34%" />
</colgroup>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>file_path</td>
<td>Path</td>
<td></td>
<td>Path to the sureau_parameter_files folder containing the csv files
with parameter values i.e
path/to/sureau_parameter_files/file_name.csv</td>
</tr>
<tr>
<td>sep</td>
<td>str</td>
<td>,</td>
<td>CSV file separator can be ‘,’ or ‘;’</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>Dict</strong></td>
<td></td>
<td><strong>Dictionary with soil parameters</strong></td>
</tr>
</tbody>
</table>

#### **Example: Read CSV file with Soil parameters**

``` python
# read_soil_file('./sample_data/soil_example.csv', sep=";")
```

    defaultdict(list,
                {'rfc_1': 75,
                 'rfc_2': 82,
                 'rfc_3': 94,
                 'field_capacity': 0.38,
                 'wilting_point': 0.12379,
                 'alpha_vg': 0.0005,
                 'n_vg': 1.55,
                 'i_vg': 0.5,
                 'ksat_vg': 10.0,
                 'saturation_capacity_vg': 1.0,
                 'residual_capacity_vg': 0.098,
                 'g_soil_0': 30.0,
                 'soil_depth_1': 0.2,
                 'soil_depth_2': 1.0,
                 'soil_depth_3': 4.0,
                 'offset_psoil': 0.3,
                 'b_camp': -4.0,
                 'psie': -0.025,
                 'psoil_at_field_capacity': 0.0,
                 'saturation_capacity_campbell': 0.39,
                 'ksat_campbell': 1.69,
                 'pedo_transfer_formulation': 'vg'})

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/master/pysureau/soil_utils.py#L368"
target="_blank" style="float:right; font-size:smaller">source</a>

### convert_vwc_to_sws

>  convert_vwc_to_sws (vwc_x:float, layer_thickness:float, rfc:int=0)

*Convert soil volumetric water content (m3.m-3) to water stock height
(quantity as height in mm per m2 soil) by accounting for the respective
layer thickness and rock fragment content. The volume of the water
quantity per square metre results in the corresponding water stock
height (m3 water per m2 soil as height in mm)*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>vwc_x</td>
<td>float</td>
<td></td>
<td>Volumetric Water Content m3.m-3</td>
</tr>
<tr>
<td>layer_thickness</td>
<td>float</td>
<td></td>
<td>Soil layer thickness in meters?</td>
</tr>
<tr>
<td>rfc</td>
<td>int</td>
<td>0</td>
<td>Rock Fragment Content (%)</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>float</strong></td>
<td></td>
<td><strong>Soil Water Stock (mm)</strong></td>
</tr>
</tbody>
</table>

``` python
convert_vwc_to_sws(1, layer_thickness=1)
```

    1000.0

------------------------------------------------------------------------

<a
href="https://github.com/ecamo19/pysureau/blob/master/pysureau/soil_utils.py#L378"
target="_blank" style="float:right; font-size:smaller">source</a>

### convert_sws_to_vwc

>  convert_sws_to_vwc (sws_x:float, layer_thickness:float, rfc:int=0)

*Convert soil water stock (quantity as height in mm per m2 soil) to
volumetric water content (m3.m-3) by accounting for the respective layer
thickness and rock fragment content*

<table>
<thead>
<tr>
<th></th>
<th><strong>Type</strong></th>
<th><strong>Default</strong></th>
<th><strong>Details</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>sws_x</td>
<td>float</td>
<td></td>
<td>Soil Water Stock (mm)</td>
</tr>
<tr>
<td>layer_thickness</td>
<td>float</td>
<td></td>
<td>Soil layer thickness in meters?</td>
</tr>
<tr>
<td>rfc</td>
<td>int</td>
<td>0</td>
<td>Rock Fragment Content (%)</td>
</tr>
<tr>
<td><strong>Returns</strong></td>
<td><strong>float</strong></td>
<td></td>
<td><strong>Volumetric Water Content m3.m-3</strong></td>
</tr>
</tbody>
</table>

``` python
convert_sws_to_vwc(1000, layer_thickness=1)
```

    1.0
